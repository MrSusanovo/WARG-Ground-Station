<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"AircraftStatus.js.html":{"id":"AircraftStatus.js.html","title":"Source: AircraftStatus.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: AircraftStatus.js /** * @author Serge Babayan * @module AircraftStatus * @listens models/TelemetryData:data_received * @requires models/TelemetryData * @requires StatusManager * @requires util/Logger * @requires util/Validator * @requires util/Bitmask * @requires models/Commands * @requires config/picpilot-config * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Keeps track of the current state of the autopilot, and informs the StatusManger about any important * changes * @see http://docs.uwarg.com/picpilot/datalink/ */ var TelemetryData = require('./models/TelemetryData'); var StatusManager = require('./StatusManager'); var Bitmask = require('./util/Bitmask'); var Validator = require('./util/Validator'); var Logger = require('./util/Logger'); var picpilot_config = require('../config/picpilot-config'); var Commands = require('./models/Commands'); var AircraftStatus = function () { /** * @var following_path {boolean} Whether the aircraft is currently following a path */ this.following_path = false; /** * Information on the current autopilot status * @var autopilot_status * @type {{initializing: boolean, running: boolean, armed: boolean, killModeWarning: boolean, killModeActive: boolean}} */ this.autopilot_status = { initializing: false, //Whether the aircraft is initializing running: false, //Whether the aircraft is in its main loop armed: false, //Whether the aircraft is armed killModeWarning: false, //Whether the aircraft is about to go into kill mode killModeActive: false //Whether the aircraft is currently in kill mode }; /** * Whether the autopilot is on or off * @var manualMode * @type {boolean} */ this.manualMode = false; /** * Current xbee connection status * @var xbee * @type {{status: boolean, timeSinceLost: null}} */ this.xbee = {//has not been implemented yet from the picpilots side status: false, timeSinceLost: null }; /** * Current gps connection status * var gps * @type {{status: boolean, timeSinceLost: null}} */ this.gps = { status: false, timeSinceLost: null }; /** * Current UHF connection status * @var uhf * @type {{status: boolean, timeSinceLost: null}} */ this.uhf = { status: false, timeSinceLost: null }; /** * What the last received error code was * @type {null | number} */ this.pastErrorCode = null; /** * Startup errors that occurred on the autopilot * @var startup_errors * @type {{POWER_ON_RESET: boolean, BROWN_OUT_RESET: boolean, IDLE_MODE_RESET: boolean, SLEEP_MODE_RESET: boolean, SOFTWARE_WATCH_DOG_RESET: boolean, SOFTWARE_RESET: boolean, EXTERNAL_RESET: boolean, VOLTAGE_REGULATOR_RESET: boolean, ILLEGAL_OPCODE_RESET: boolean, TRAP_RESET: boolean}} */ this.startup_errors = { POWER_ON_RESET: false, BROWN_OUT_RESET: false, IDLE_MODE_RESET: false, SLEEP_MODE_RESET: false, SOFTWARE_WATCH_DOG_RESET: false, SOFTWARE_RESET: false, EXTERNAL_RESET: false, VOLTAGE_REGULATOR_RESET: false, ILLEGAL_OPCODE_RESET: false, TRAP_RESET: false }; /** * For keeping track and clearing the interval function when sending heartbeats to the picpilot * @var heartBeatInterval * @type {number} * @private */ var heartBeatInterval = 5; /** * Starts sending heartbeats at the rate as specified in the picpilot config. Will clear and restart it if called multiple times * @function startHeartbeat */ this.startHeartbeat = function () { if (heartBeatInterval) { clearInterval(heartBeatInterval); } heartBeatInterval = setInterval(function () { Commands.sendHeartbeat(); }.bind(this), picpilot_config.get('heart_beat_timeout')); }.bind(this); /** * @function telemetryCallback * @private * @param data {Object} * @param data.startup_error_codes {number | null} * @param data.gps_status {number | null} * @param data.wireless_connection {number | null} * @param data.autopilot_active {number | null} * @param data.path_following {number | null} */ var telemetryCallback = function (data) { checkErrorCodes(data.startup_error_codes); checkGPS(data.gps_status); checkUHFStatus(data.wireless_connection); checkManualMode(data.wireless_connection); checkPlaneStatus(data.autopilot_active); checkPathFollowing(data.path_following); }; TelemetryData.on('data_received', telemetryCallback); /** * Checks whether the plane is currently following a path * @param status {number | null} */ var checkPathFollowing = function (status) { if (typeof status !== 'undefined' || status !== null) { this.following_path = (Number(status) === 1); } }.bind(this); /** * Checks the current autopilot status based on telemetry data * @param number {number | null} */ var checkPlaneStatus = function (number) { if (!Validator.isValidNumber(number)) { Logger.warn('Invalid value for autopilot_active received. Value: ' + number); } else { number = Number(number); this.initializing = (number === 0); if (number === 1) { //only set armed to false if the number is ONLY 1 this.armed = false; } this.armed = (number === 2); this.running = (number === 3); this.killModeWarning = (number === 4); this.killModeActive = (number === 5); StatusManager.setStatusCode('AIRCRAFT_INITIALIZE', this.initializing); StatusManager.setStatusCode('AIRCRAFT_UNARMED', !this.armed); StatusManager.setStatusCode('AIRCRAFT_ARMED', this.armed); StatusManager.setStatusCode('AIRCRAFT_RUNNING', this.running); StatusManager.setStatusCode('AIRCRAFT_KILLMODE_WARNING', this.killModeWarning); StatusManager.setStatusCode('AIRCRAFT_KILLMODE', this.killModeActive); } }.bind(this); var checkUHFStatus = function (data) { var number = Number(data); if (!Validator.isInteger(number)) { Logger.warn('Invalid value for wireless_connection received. Value: ' + data); } else { var bitmask = new Bitmask(number); this.uhf.status = bitmask.getBit(1); if (this.uhf.status) { //has been turned to true this.uhf.timeSinceLost = null; } else { //has been turned to false this.uhf.timeSinceLost = Date.now(); } StatusManager.setStatusCode('UHF_LOST', !this.uhf.status); } }.bind(this); var checkManualMode = function (data) { var number = Number(data); if (!Validator.isInteger(number)) { Logger.warn('Invalid value for wireless_connection received. Value: ' + data); } else { var bitmask = new Bitmask(number); this.manualMode = !bitmask.getBit(0); StatusManager.setStatusCode('MANUAL_MODE', this.manualMode); } }.bind(this); var checkGPS = function (data) { var number = Number(data); if (!Validator.isValidNumber(number)) { Logger.warn('Invalid GPS status received. Status: ' + data); } var connection_status = ((number &amp; 0xf0) &gt;&gt; 4) &gt; 0; // if theres at least 1 fix if (connection_status !== this.gps.status) { //if its a different status this.gps.status = connection_status; StatusManager.setStatusCode('GPS_LOST', !this.gps.status); if (this.gps.status === false) { //if it was set to false, start the timer this.gps.timeSinceLost = Date.now(); } else { this.gps.timeSinceLost = null; } } }.bind(this); var checkErrorCodes = function (startup_error_codes) { var dataNumber = Number(startup_error_codes); if (!Validator.isInteger(dataNumber)) { Logger.warn('Invalid data value for startup_error_codes received. Value : ' + startup_error_codes); } else if (this.pastErrorCode !== dataNumber) { //if we got an error code value thats different from last time var error_codes = new Bitmask(dataNumber); this.pastErrorCode = dataNumber; this.startup_errors.POWER_ON_RESET = error_codes.getBit(0); this.startup_errors.BROWN_OUT_RESET = error_codes.getBit(1); this.startup_errors.IDLE_MODE_RESET = error_codes.getBit(2); this.startup_errors.SLEEP_MODE_RESET = error_codes.getBit(3); this.startup_errors.SOFTWARE_WATCH_DOG_RESET = error_codes.getBit(4); this.startup_errors.SOFTWARE_RESET = error_codes.getBit(5); this.startup_errors.EXTERNAL_RESET = error_codes.getBit(6); this.startup_errors.VOLTAGE_REGULATOR_RESET = error_codes.getBit(7); this.startup_errors.ILLEGAL_OPCODE_RESET = error_codes.getBit(8); this.startup_errors.TRAP_RESET = error_codes.getBit(9); StatusManager.setStatusCode('AIRCRAFT_ERROR_POWER_ON_RESET', this.startup_errors.POWER_ON_RESET); StatusManager.setStatusCode('AIRCRAFT_ERROR_BROWN_OUT_RESET', this.startup_errors.BROWN_OUT_RESET); StatusManager.setStatusCode('AIRCRAFT_ERROR_IDLE_MODE_RESET', this.startup_errors.IDLE_MODE_RESET); StatusManager.setStatusCode('AIRCRAFT_ERROR_SLEEP_MODE_RESET', this.startup_errors.SLEEP_MODE_RESET); StatusManager.setStatusCode('AIRCRAFT_ERROR_SOFTWARE_WATCH_DOG_RESET', this.startup_errors.SOFTWARE_WATCH_DOG_RESET); StatusManager.setStatusCode('AIRCRAFT_ERROR_SOFTWARE_RESET', this.startup_errors.SOFTWARE_RESET); StatusManager.setStatusCode('AIRCRAFT_ERROR_EXTERNAL_RESET', this.startup_errors.EXTERNAL_RESET); StatusManager.setStatusCode('AIRCRAFT_ERROR_VOLTAGE_REGULATOR_RESET', this.startup_errors.VOLTAGE_REGULATOR_RESET); StatusManager.setStatusCode('AIRCRAFT_ERROR_ILLEGAL_OPCODE_RESET', this.startup_errors.ILLEGAL_OPCODE_RESET); StatusManager.setStatusCode('AIRCRAFT_ERROR_TRAP_RESET', this.startup_errors.TRAP_RESET); } }.bind(this) }; module.exports = new AircraftStatus(); × Search results Close "},"connections_DataRelay.js.html":{"id":"connections_DataRelay.js.html","title":"Source: connections/DataRelay.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: connections/DataRelay.js /** * @author Serge Babayan * @module connections/DataRelay * @requires config/network-config * @requires Network * @requires util/Logger * @requires util/PacketParser * @requires StatusManager * @requires models/TelemetryData * @emits models/TelemetryData~TelemetryData:aircraft_position * @emits models/TelemetryData~TelemetryData:aircraft_orientation * @emits models/TelemetryData~TelemetryData:aircraft_gains * @emits models/TelemetryData~TelemetryData:aircraft_status * @emits models/TelemetryData~TelemetryData:aircraft_channels * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Configures the data relay connection for connecting to it, and parsing its data and sending out events * to the TelemetryData module * @see http://docs.uwarg.com/picpilot/datalink/ */ var network_config = require('../../config/network-config'); var Network = require('../Network'); var Logger = require('../util/Logger'); var TelemetryData = require('../models/TelemetryData'); var StatusManager = require('../StatusManager'); var PacketParser = require('../util/PacketParser'); var _ = require('underscore'); var DataRelay = {}; DataRelay.parseHeaders = function (data) { TelemetryData.setHeadersFromString(data); PacketParser.checkForMissingHeaders(TelemetryData.headers); Logger.debug('Network data_relay Received headers: ' + data); Logger.data(JSON.stringify(TelemetryData.headers), 'DATA_RELAY_HEADERS'); StatusManager.addStatus('Received headers from data_relay', 3, 3000); }; DataRelay.parseData = function (data) { TelemetryData.current_state = PacketParser.parseData(data, TelemetryData.headers); TelemetryData.emitPackets(TelemetryData.current_state); Logger.data(JSON.stringify(TelemetryData.current_state), 'DATA_RELAY_DATA'); StatusManager.setStatusCode('TIMEOUT_DATA_RELAY', false); }; /** * Initializes or re-initializes the data relay connection and sets up callbacks for parsing any received data * @function init */ DataRelay.init = function () { if (Network.connections['data_relay']) { //if a connection has already been established, disconnect it Network.connections['data_relay'].removeAllListeners(); Network.connections['data_relay'].disconnect(); } var data_relay = Network.addConnection('data_relay', network_config.get('datarelay_host'), network_config.get('datarelay_port')); data_relay.setTimeout(network_config.get('datarelay_timeout')); data_relay.on('connect', function () { TelemetryData.headers = []; StatusManager.setStatusCode('CONNECTED_DATA_RELAY', true); }); data_relay.on('close', function (had_error) { StatusManager.setStatusCode('DISCONNECTED_DATA_RELAY', true); }); data_relay.on('timeout', function () { StatusManager.setStatusCode('TIMEOUT_DATA_RELAY', true); }); data_relay.on('write', function (data) { StatusManager.addStatus('Sent command to data_relay', 3, 2000); }); data_relay.on('data', function (data) { if (!data) { //don't do anything if we get blank data or anything that's not an object Logger.error('Got a blank packet from the data relay station. Value: ' + data); return; } data = data.toString(); // First transmission is header columns if (TelemetryData.headers.length === 0) { this.parseHeaders(data); } else { //if its the non-header columns(actual data) this.parseData(data); } }.bind(this)); }; module.exports = DataRelay; × Search results Close "},"core_Menu.js.html":{"id":"core_Menu.js.html","title":"Source: core/Menu.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: core/Menu.js /** * @author Serge Babayan * @module core/Menu * @requires electron * @requires util/GainsImporter * @requires util/PathImporter * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Application menu configuration. Custom menu items are added here. * The top level object is the menu item name. * The second level is the sub-menu name. * Add a `callback` attribute with a function if you want to call a function * after a user clicks on the item. * Add a 'openWindow' attribute with the name of your window if you want to * open a specific window. * If both `callback` and `openWindow` are provided, the callback will be * executed and then the window will be opened. * Note: The `View` and `Help` menu items are generated in the MenuBuilder * * @example &lt;caption&gt;Example of a menu item that calls a function before opening * 'project_root/windows/myNewWindow.html'&lt;/caption&gt; * * var Menu = { * 'Windows': { //this is the menu label * 'Open Your New Window': { //this is the submenu label * callback: function () { * //optional function to be called before opening window * }, * openWindow: 'myNewWindow', //name of the window to open (optional) * height: 800, //height and width of the window. Default is 500 by 500 * width: 600, * devTools: true, //whether to open chrome devtools with the window (false by default) * type: 'separator' //whether this sub menu item is a separator * } * } * }; */ const electron = require('electron'); var GainsImporter = require('../util/GainsImporter'); var PathImporter = require('../util/PathImporter'); var Menu = { 'File': { 'Import PID Gains': { callback: GainsImporter.import }, 'Import Path': { callback: PathImporter.import }, 'Import Settings': {}, 'seperator1': { type: 'separator' //this is a separator }, 'Export PID Gains': { callback: GainsImporter.export }, 'Export Path': { callback: PathImporter.export }, 'Save Settings as...': {}, 'Quit': { callback: electron.app.quit } }, 'Windows': { 'Simulation Mode': { openWindow: 'simulationMode', height: 350, width: 450, devTools: false }, 'Console': { openWindow: 'console', width: 900, height: 500, shortcut: 'CmdOrCtrl+Shift+C' }, '3D View': { openWindow: '3dView', width: 900, height: 500, shortcut: 'CmdOrCtrl+Shift+V' }, 'Autonomus Level Adjust': { openWindow: 'autoAdjust', width: 1250, height: 530, shortcut: 'CmdOrCtrl+Shift+A' }, 'Data Entry': { openWindow: 'dataEntry', width: 500, height: 250, shortcut: 'CmdOrCtrl+Shift+D' }, 'Data View': { openWindow: 'dataView', width: 500, height: 600 }, 'Gains Adjust': { openWindow: 'gainsAdjust', width: 1100, height: 550, shortcut: 'CmdOrCtrl+Shift+G' }, 'Probe Drops': { openWindow: 'probeDrops', width: 575, height: 270, shortcut: 'CmdOrCtrl+Shift+P' } }, 'Settings': { 'Network Settings': { openWindow: 'networkSettings', width: 600, height: 500, devTools: false, shortcut: 'CmdOrCtrl+Shift+N' }, 'App Settings': { openWindow: 'appSettings', width: 600, height: 700, shortcut: 'CmdOrCtrl+Shift+S', devTools: false } } }; module.exports = Menu; × Search results Close "},"core_MenuBuilder.js.html":{"id":"core_MenuBuilder.js.html","title":"Source: core/MenuBuilder.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: core/MenuBuilder.js /** * @author Serge Babayan * @module core/MenuBuilder * @requires core/Menu * @requires core/WindowManager * @requires electron * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Builds an electron based menu template from the core/Menu file * and returns an electron menu that can be attached to a BrowserWindow */ const electron = require('electron'); const ElectronMenu = electron.Menu; var Menu = require('./Menu'); var WindowManager = require('./WindowManager'); /** * @function build * @returns {electron.Menu} menu */ module.exports.build = function () { var menu_template = []; for (var menu_label in Menu) { var submenu = []; if (Menu.hasOwnProperty(menu_label)) { for (var sub_menu_label in Menu[menu_label]) { if (Menu[menu_label].hasOwnProperty(sub_menu_label)) { if (Menu[menu_label][sub_menu_label].type === 'separator') { submenu.push({ type: 'separator' }); continue; } submenu.push({ label: sub_menu_label, accelerator: Menu[menu_label][sub_menu_label].shortcut || null, click: function (menu_label, sub_menu_label) { if (Menu[menu_label][sub_menu_label].callback) { Menu[menu_label][sub_menu_label].callback(); } if (Menu[menu_label][sub_menu_label].openWindow) { WindowManager.openWindow(Menu[menu_label][sub_menu_label].openWindow, { devTools: Menu[menu_label][sub_menu_label].devTools, height: Menu[menu_label][sub_menu_label].height || 500, width: Menu[menu_label][sub_menu_label].width || 500 }); } }.bind(this, menu_label, sub_menu_label) }) } } menu_template.push({ label: menu_label, submenu: submenu }); } } menu_template.push( { label: 'View', submenu: [ { label: 'Reload', accelerator: 'CmdOrCtrl+R', click: function (item, focusedWindow) { if (focusedWindow) focusedWindow.reload(); } }, { label: 'Toggle Full Screen', accelerator: (function () { if (process.platform == 'darwin') return 'Ctrl+Command+F'; else return 'F11'; })(), click: function (item, focusedWindow) { if (focusedWindow) focusedWindow.setFullScreen(!focusedWindow.isFullScreen()); } }, { label: 'Toggle Developer Tools', accelerator: (function () { if (process.platform == 'darwin') return 'Alt+Command+I'; else return 'Ctrl+Shift+J'; })(), click: function (item, focusedWindow) { if (focusedWindow) focusedWindow.webContents.toggleDevTools(); } } ] }); menu_template.push({ label: 'Help', role: 'help', submenu: [ { label: 'Electron Docs', click: function () { require('electron').shell.openExternal('http://electron.atom.io') } } ] }); return ElectronMenu.buildFromTemplate(menu_template); }; × Search results Close "},"core_WindowManager.js.html":{"id":"core_WindowManager.js.html","title":"Source: core/WindowManager.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: core/WindowManager.js /** * @author Serge Babayan * @module core/WindowManager * @requires electron * @requires util/Logger * @requires root-path * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Manages the creation and destruction of windows for the application */ var Logger = require('../util/Logger'); const electron = require('electron'); const BrowserWindow = electron.BrowserWindow; var app_root = require('root-path'); var WindowsManager = { /** * @var open_windows {ObjectHash} Stores all the currently open windows * @private */ open_windows: {}, /** * @function openWindow * @description Opens a window by either creating it or focusing on an existing one * @param window_file_name {string} The window template file name * @param options {Object} Parameters specific to electron.BrowserWindow */ openWindow: function (window_file_name, options) { options = options || {}; //if the window is already open, focus on it if (this.open_windows[window_file_name]) { this.open_windows[window_file_name].focus(); } //otherwise create the window else { var new_window = new BrowserWindow(options); new_window.name = window_file_name; new_window.loadURL('file://' + app_root(`templates/windows/${window_file_name}.html`)); new_window.setMenu(null); //we don't want new windows to have their own menu if (options.devTools) { new_window.webContents.openDevTools(); } //delete all instances of the window new_window.on('closed', function () { Logger.debug(`Closed ${new_window.name} window`); this.open_windows[new_window.name] = null; delete this.open_windows[new_window.name]; }.bind(this)); this.open_windows[new_window.name] = new_window; Logger.debug(`Opening ${new_window.name} window`); } }, /** * @function getWindowNameFromId * @description Retrieves the hash key or window name for a window based on its BrowserWindow id * @param id {int} The id of the window * @returns name {string|null} The name of the window, or null if one wasn't found */ getWindowNameFromId: function (id) { for (var window in this.open_windows) { if (this.open_windows.hasOwnProperty(window)) { if (this.open_windows[window].id === id) { return window; } } } return null; }, /** * @function getFocusedWindowName * @description Returns the unique name for the currently focused window * @returns name {string|null} The name of the window, or null if one wasn't found */ getFocusedWindowName: function () { return this.getWindowNameFromId(electron.BrowserWindow.getFocusedWindow().id); } }; module.exports = WindowsManager; × Search results Close "},"core_WindowShortcuts.js.html":{"id":"core_WindowShortcuts.js.html","title":"Source: core/WindowShortcuts.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: core/WindowShortcuts.js /** * @author Serge Babayan * @module core/WindowShortcuts * @requires util/Logger * @requires electron * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Creates common shortcuts for a window. Requires `Mousetrap.js` to be declared within the window. * Current shortcuts include the ability to close and refresh windows, as well as open dev tools. * @example &lt;caption&gt;Usage example&lt;/caption&gt; * var WindowShortcuts = require('../../app/core/WindowShortcuts'); * WindowShortcuts.init(Mousetrap); //we pass in mousetrap in here */ var electron = require('electron'); var remote = electron.remote; var Logger = remote.require('./app/util/Logger'); var WindowManager = remote.require('./app/core/WindowManager'); /** * function init * @param Mousetrap {Object} Reference to the window's Mousetrap object */ module.exports.init = function (Mousetrap) { //opens up devtools for the specified window Mousetrap.bind('mod+shift+j', function (e) { remote.getCurrentWebContents().toggleDevTools(); }); //refreshes the window Mousetrap.bind('mod+shift+r', function (e) { Logger.debug('Refreshing ' + WindowManager.getFocusedWindowName() + ' window'); remote.getCurrentWindow().reload(); }); //closes the window Mousetrap.bind('mod+shift+q', function (e) { remote.getCurrentWindow().close(); }); }; × Search results Close "},"models_Connection.js.html":{"id":"models_Connection.js.html","title":"Source: models/Connection.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: models/Connection.js /** * @author Serge Babayan * @module models/Connection * @requires util/Logger * @requires net * @requires util * @requires events * @requires config/advanced-config * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Represents a TCP connection. This is used as a wrapper for the connection to the * data relay * @extends EventEmitter * @see https://nodejs.org/api/net.html */ var net = require('net'); var util = require('util'); var EventEmitter = require('events'); var Logger = require('../util/Logger'); var advanced_config = require('../../config/advanced-config'); /** * @param options Required options to initialize the TCP connection * @param options.name The unique name of the connection * @param options.host The hostname (ie. 192.168.1.101) * @param options.port The port for the connection (ie. 3000) * @throws {Error} If one of the parameters weren't provided * @constructor */ var Connection = function (options) { if (options &amp;&amp; options.name &amp;&amp; options.host &amp;&amp; options.port) { this.name = options.name; this.host = options.host; this.port = options.port; } else { throw new Error(&quot;Connection name,host, and port parameters are all required!&quot;) } /** * Whether the connection has been closed * @type {boolean} */ this.closed = true; /** * Timeout for the socket in milliseconds. Defaults to 5 seconds * @type {number} */ this.timeout = 5000; // Initialize necessary properties from `EventEmitter` in this instance EventEmitter.call(this); this.setMaxListeners(advanced_config.get('connection_max_listeners')); /** * Attempts to connect to the TCP socket */ this.connect = function () { Logger.info('Attempting to connect to ' + this.name + ' at ' + this.host + ':' + this.port); this.socket.connect(this.port, this.host); }; /** * Disconnects from the TCP socket */ this.disconnect = function () { Logger.info('Disconnecting from ' + this.name + ' at ' + this.host + ':' + this.port); this.socket.destroy(); }; /** * Reconnects to the socket (same as doing a disconnect and then a connect) */ this.reconnect = function () { this.disconnect(); this.connect(); }; /** * Sets the timeout for the socket connection in milliseconds * @function setTimeout * @param {int} timeout */ this.setTimeout = function(timeout){ this.socket.setTimeout(timeout); }; /** * Attempts to send data through the socket * @param data {Object} The data to send * @fires Connection:write */ this.write = function (data) { this.socket.write(data, 'utf8', function (error) { if (!error) { /** * Emitted if data was successfully sent through the socket. Passes back the data sent * @event Connection:write * @type {Object} */ this.emit('write', data); Logger.info(&quot;Network &quot; + this.name + &quot; Sent: &quot; + data); } }.bind(this)); }; /** * A reference to the socket. * @type {net.Socket} */ this.socket = new net.Socket(); this.socket.setTimeout(this.timeout); this.socket.on('connect', function () { /** * Emitted when the socket has successfully connected * @event Connection:connect * @type {null} */ this.emit('connect'); this.closed = false; Logger.info('Sucessfully connected to ' + this.name + ' with host ' + this.host + ' and port ' + this.port); }.bind(this)); this.socket.on('error', function (error) { this.closed = true; Logger.error('Problem with ' + this.name + ' connection (host: ' + this.host + ',port:' + this.port + ')\\n' + error.toString()); /** * Emitted when an error has occurred on the socket. Does not throw an error if there are no listeners * @event Connection:socket_error * @type {Object} */ this.emit('socket_error', error); //NOTE: named socket_error and not error so as to not throw an exception }.bind(this)); /** * Emitted when the socket has timed out (receiving no data but still connected) * @event Connection:timeout * @type {null} */ this.socket.on('timeout', function () { this.emit('timeout'); Logger.error('Timed out for ' + this.timeout/1000 + 's for ' + this.name + ' connection (host: ' + this.host + ',port:' + this.port + ')'); }.bind(this)); /** * Emitted when the socket has been closed. Passes true if it closed due to an error * @event Connection:close * @type {bool} */ this.socket.on('close', function (had_error) { this.emit('close', had_error); this.closed = true; if (had_error) { Logger.error('Connection to ' + this.name + ' closed due to an error: Not reconnecting'); } else { Logger.warn('Connection to ' + this.name + ' closed: Not reconnecting'); } }.bind(this)); /** * Emitted when the socket has received a packet of data * @event Connection:data * @type {Buffer} */ this.socket.on('data', function (data) { this.emit('data', data); }.bind(this)); }; util.inherits(Connection, EventEmitter); module.exports = Connection; × Search results Close "},"models_Coordinates.js.html":{"id":"models_Coordinates.js.html","title":"Source: models/Coordinates.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: models/Coordinates.js /** * @module models/Coordinates * @param obj * @returns {boolean} */ //Code copied from: https://github.com/Leaflet/Leaflet/blob/master/src/geo/LatLng.js //Used inside the path manager for validating latitude and longitude objects function isArray(obj) { return (Object.prototype.toString.call(obj) === '[object Array]'); }; LatLng = function (lat, lng, alt) { if (isNaN(lat) || isNaN(lng)) { throw new Error('Invalid LatLng object: (' + lat + ', ' + lng + ')'); } // @property lat: Number // Latitude in degrees this.lat = +lat; // @property lng: Number // Longitude in degrees this.lng = +lng; // @property alt: Number // Altitude in meters (optional) if (alt !== undefined) { this.alt = +alt; } }; latLng = function (a, b, c) { if (a instanceof LatLng) { return a; } if (isArray(a) &amp;&amp; typeof a[0] !== 'object') { if (a.length === 3) { return new LatLng(a[0], a[1], a[2]); } if (a.length === 2) { return new LatLng(a[0], a[1]); } return null; } if (a === undefined || a === null) { return a; } if (typeof a === 'object' &amp;&amp; 'lat' in a) { return new LatLng(a.lat, 'lng' in a ? a.lng : a.lon, a.alt); } if (b === undefined) { return null; } return new LatLng(a, b, c); }; module.exports = latLng; × Search results Close "},"models_PacketTypes.js.html":{"id":"models_PacketTypes.js.html","title":"Source: models/PacketTypes.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: models/PacketTypes.js /** * @author Serge Babayan * @module models/PacketTypes * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Contains the different packet types that the TelemetryData module sends out. Also lists the validation * function to use for a certain header received from the picpilot. * @see http://docs.uwarg.com/picpilot/datalink/ */ var PacketTypes = { aircraft_position: { //this is the event name 'lat': 'isValidLatitude', //the key is the header name, the value is a function name in the Validator module. Could be an array if you want to use multiple 'lon': 'isValidLongitude', 'sys_time': 'isValidTime', 'time': 'isValidTime', 'airspeed': 'isValidSpeed', 'ground_speed': 'isValidSpeed', 'heading': 'isValidHeading', 'heading_setpoint': 'isValidHeading', 'altitude': 'isValidAltitude', 'altitude_setpoint': 'isValidAltitude', 'throttle_setpoint': 'isValidThrottle', 'flap_setpoint': 'isValidFlap' }, aircraft_orientation: { 'pitch': 'isValidPitch', 'roll': 'isValidRoll', 'yaw': 'isValidYaw', 'pitch_rate': 'isValidNumber', 'roll_rate': 'isValidNumber', 'yaw_rate': 'isValidNumber', 'yaw_rate_setpoint': 'isValidNumber', 'roll_rate_setpoint': 'isValidNumber', 'roll_setpoint': 'isValidRoll', 'pitch_rate_setpoint': 'isValidNumber', 'pitch_setpoint': 'isValidPitch' }, aircraft_gains: { 'roll_kd': 'isValidNumber', 'roll_kp': 'isValidNumber', 'pitch_kd': 'isValidNumber', 'pitch_kp': 'isValidNumber', 'yaw_kd': 'isValidNumber', 'yaw_kp': 'isValidNumber', 'roll_ki': 'isValidNumber', 'pitch_ki': 'isValidNumber', 'yaw_ki': 'isValidNumber', 'heading_kd': 'isValidNumber', 'heading_kp': 'isValidNumber', 'heading_ki': 'isValidNumber', 'altitude_kd': 'isValidNumber', 'altitude_kp': 'isValidNumber', 'altitude_ki': 'isValidNumber', 'throttle_kd': 'isValidNumber', 'throttle_kp': 'isValidNumber', 'throttle_ki': 'isValidNumber', 'flap_kd': 'isValidNumber', 'flap_kp': 'isValidNumber', 'flap_ki': 'isValidNumber', 'path_gain': 'isValidNumber', 'orbit_gain': 'isValidNumber' }, aircraft_status: { 'last_command_sent0': ['isPositiveNumber', 'isInteger'], 'last_command_sent1': ['isPositiveNumber', 'isInteger'], 'last_command_sent2': ['isPositiveNumber', 'isInteger'], 'last_command_sent3': ['isPositiveNumber', 'isInteger'], 'battery_level1': 'isValidBattery', 'battery_level2': 'isValidBattery', 'autonomousLevel': ['isPositiveNumber', 'isInteger'], 'startup_error_codes': ['isPositiveNumber', 'isInteger'], 'startupSettings': ['isPositiveNumber', 'isInteger'], 'probe_status': ['isPositiveNumber', 'isInteger'], 'RSSI': 'isValidNumber', 'wireless_connection': ['isPositiveNumber', 'isInteger'], 'autopilot_active': ['isPositiveNumber', 'isInteger'], 'gps_status': ['isPositiveNumber', 'isInteger'], 'camera_status': ['isPositiveNumber', 'isInteger'], 'waypoint_count': ['isPositiveNumber', 'isInteger'], 'waypoint_index': ['isPositiveNumber', 'isInteger'], 'path_following': 'isBooleanInt', 'path_checksum': 'isPositiveNumber' }, aircraft_channels: { 'ch1in': 'isInteger', 'ch2in': 'isInteger', 'ch3in': 'isInteger', 'ch4in': 'isInteger', 'ch5in': 'isInteger', 'ch6in': 'isInteger', 'ch7in': 'isInteger', 'ch8in': 'isInteger', 'ch1out': 'isInteger', 'ch2out': 'isInteger', 'ch3out': 'isInteger', 'ch4out': 'isInteger', 'ch5out': 'isInteger', 'ch6out': 'isInteger', 'ch7out': 'isInteger', 'ch8out': 'isInteger' } }; module.exports = PacketTypes; × Search results Close "},"models_TelemetryData.js.html":{"id":"models_TelemetryData.js.html","title":"Source: models/TelemetryData.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: models/TelemetryData.js /** * @author Serge Babayan * @module models/TelemetryData * @requires util * @requires events * @requires config/advanced-config * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Data model that stores the current and past telemetry states of the aircraft. Inherits off of the node EventEmitter, * so it can emit data events to other modules * @extends EventEmitter * @see http://docs.uwarg.com/picpilot/datalink/ */ var util = require('util'); var advanced_config = require('../../config/advanced-config'); var EventEmitter = require('events'); var _ = require('underscore'); /** * When a new data packet has been received on the data relay connection * @event TelemetryData:aircraft_position * @property {Object} data - Information on the position of the aircraft */ /** * When a new data packet has been received on the data relay connection * @event TelemetryData:aircraft_orientation * @property {Object} data - Information on the orientation of the aircraft */ /** * When a new data packet has been received on the data relay connection * @event TelemetryData:aircraft_gains * @property {Object} data - Current aircraft gains information */ /** * When a new data packet has been received on the data relay connection * @event TelemetryData:aircraft_status * @property {Object} data - Current aircraft status information */ /** * When a new data packet has been received on the data relay connection * @event TelemetryData:aircraft_channels * @property {Object} data - Information about the channel inputs and outputs of the picpilot */ var TelemetryData = function () { /** * @var headers {Array} * An array of headers in the order that the groundstation will be receiving them, as specified from the data relay * @example * console.log(TelemetryData.headers) * ['lat', 'lon', 'time', ...] */ this.headers = []; /** * @var current_state {Hash} * Current flight state. In the format of a hash, where the keys are the packet names, and the value is an array of header=&gt;value data * @see models/PacketTypes * @example * console.log(TelemetryData.current_state) * { * aircraft_position: { * lat: 45.45455, * lon: 324234, * time: 234324324, * ... * }, * aircraft_orientation: { * ... * } * } */ this.current_state = {}; /** * Converts a springfield version of headers (separated by commas) into an array and sets it as its headers. * Will also perform a trim() on each of the header values. * @function setHeadersFromString * @param {String} headers_string * @example * TelemetryData.setHeadersFromString('header1,header2, header3, header4'); * console.log(TelemetryData.headers); * //Outputs: ['header1', 'header2', 'header3', 'header4'] */ this.setHeadersFromString = function (headers_string) { this.headers = []; if(headers_string){ this.headers = headers_string.split(&quot;,&quot;).map(function (str) { return str.trim(); }); } }; /** * Takes in a packet object and emits each one with its own payload. Packet object should be in the same format as * the PacketTypes model, only the value being the value of the actual header. * @function emitPackets * @param {Object} packets A key value pair of the packet name and its data payload * @example &lt;caption&gt; Usage example &lt;/caption&gt; * var packets = { * packet_name: { * packet_data1: 'packet_value1', * packet_data2: 'packet_value2' * } * packet_name2: { * ... * } * } * //this will emit a 'packet_name' and 'packet_name2' events each with their respective data * TelemetryData.emitPackets(packets); */ this.emitPackets = function (packets) { if(packets){ _.each(packets, function (packet_data, packet_name) { this.emit(packet_name, packet_data); }.bind(this)); } }; EventEmitter.call(this); }; //give TelemetryData the ability to emit and listen to events util.inherits(TelemetryData, EventEmitter); var telemetry_data_instance = new TelemetryData(); telemetry_data_instance.setMaxListeners(advanced_config.get('telemetrydata_max_listeners')); module.exports = telemetry_data_instance; × Search results Close "},"models_Commands.js.html":{"id":"models_Commands.js.html","title":"Source: models/Commands.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: models/Commands.js /** * @author Serge Babayan * @module util/Commands * @requires util/Validator * @requires SimulationManager * @requires util/Logger * @requires Network * @requires config/picpilot-config * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Manages sending the picpilot commands. Writes to the data relay connection to send commands. Validates * data before sending it out using the Validator module. * @see http://docs.uwarg.com/picpilot/datalink/ */ var picpilot_config = require('../../config/picpilot-config'); var Network = require('../Network'); var Logger = require('../util/Logger'); var Validator = require('../util/Validator'); var SimulationManager = require(&quot;../SimulationManager&quot;); var Commands = { /** * Checks whether there is an active data relay connection * @function checkConnection * @returns {boolean} Connection status */ checkConnection: function () { if (SimulationManager.simulationActive) { return false; } if (Network.connections['data_relay'] &amp;&amp; !Network.connections['data_relay'].closed) { return true; } else { Logger.warn('Cannot send command as the data_relay connection has not yet been established or the connection is closed'); return false; } }, /** * Sends a protected command (a command requiring a password appended after the command) * @function sendProtectedCommand * @param command {string} * @returns {boolean} Whether the command was successfully sent. Will return false if there is no connection and the simulator isn't active */ sendProtectedCommand: function (command) { if (this.checkConnection()) { Network.connections['data_relay'].write(command + ':' + picpilot_config.get('command_password') + '\\r\\n'); return true; } if (SimulationManager.simulationActive) { Logger.info('[Simulation] Successfully sent command ' + command + ':' + picpilot_config.get('command_password') + '\\r\\n'); return true; } return false; }, /** * Sends a regular command to the data relay * @function sendCommand * @param command {string} The command name * @param value {string | Number} The value of the command. This can be lots of different parameters * @returns {boolean} Whether the command was successfully sent. Will return false if there is no connection and the simulator isn't active * @example * Commands.sendCommand('awesomeCommand', 'value1', 'value2', 'value3'); * //will send this through the data relay * //awesomeCommand:value1, value2, value3 */ sendCommand: function (command, value) { //value can be an indefinite number of arguments var value_string = ''; for (var arg = 1; arg &lt; arguments.length - 1; arg++) { //we start at one cause we only care about the values value_string += arguments[arg] + ','; } value_string += arguments[arguments.length - 1]; if (this.checkConnection()) { Network.connections['data_relay'].write(command + ':' + value_string + '\\r\\n'); return true; } if (SimulationManager.simulationActive) { Logger.info('[Simulation] Successfully sent command ' + command + ':' + value_string + '\\r\\n'); return true; } return false; }, /** * Sends a raw command (no formatting) to the data relay * @function sendRawCommand * @param command {string} The command string * @returns {boolean} Whether the command was successfully sent. Will return false if there is no connection and the simulator isn't active */ sendRawCommand: function (command) { if (this.checkConnection()) { Network.connections['data_relay'].write(command + '\\r\\n'); return true; } if (SimulationManager.simulationActive) { Logger.info('[Simulation] Successfully sent command: ' + command); return true; } return false; }, /** * Actives write mode for the groundstation, allowing the groundstation to send commands that affect the autopilot * @function activateWriteMode * @returns {boolean} Whether the command sent successfully */ activateWriteMode: function () { return this.sendRawCommand('commander'); }, /** * Sends a roll value to the autopilot * @function sendRoll * @param roll {string|Number} The roll in degrees * @returns {boolean} Whether the command sent successfully */ sendRoll: function (roll) { if (Validator.isValidRoll(roll)) { return this.sendCommand('set_rollAngle', roll); } else { Logger.error('Command to not sent since invalid roll value detected! Roll:' + roll); return false; } }, /** * Sends a pitch value to the autopilot * @function sendPitch * @param pitch {string|Number} The pitch in degrees * @returns {boolean} Whether the command sent successfully */ sendPitch: function (pitch) { if (Validator.isValidPitch(pitch)) { return this.sendCommand('set_pitchAngle', pitch); } else { Logger.error('Command to not sent since invalid pitch value detected! Pitch:' + pitch); return false; } }, /** * Sends a heading value to the autopilot * @function sendHeading * @param heading {string|Number} The heading in degrees (0-360) * @returns {boolean} Whether the command sent successfully */ sendHeading: function (heading) { if (Validator.isValidHeading(heading)) { return this.sendCommand('set_heading', heading); } else { Logger.error('Command to not sent since invalid heading value detected! Heading:' + heading); return false; } }, /** * Sends a altitude value to the autopilot * @function sendAltitude * @param altitude {string|Number} The altitude in m * @returns {boolean} Whether the command sent successfully */ sendAltitude: function (altitude) { if (Validator.isValidAltitude(altitude)) { return this.sendCommand('set_altitude', altitude); } else { Logger.error('Command to not sent since invalid altitude value detected! Altitude:' + altitude); return false; } }, /** * Sends a throttle value to the autopilot * @function sendThrottle * @param throttle {string|Number} The percentage value of the throttle * @returns {boolean} Whether the command sent successfully */ sendThrottle: function (throttle) { if (Validator.isValidPercentage(throttle)) { return this.sendCommand('set_throttle', (Number(throttle) * 2048 / 100 - 1024).toFixed(0)); } else { Logger.error('Command to not sent since invalid throttle value detected! Throttle:' + throttle); return false; } }, /** * Sends a flap value to the autopilot * @function sendFlap * @param flap {string|Number} The flap percentage (0 is no flaps, 100% is full flaps) * @returns {boolean} Whether the command sent successfully */ sendFlap: function (flap) { if (Validator.isValidPercentage(flap)) { return this.sendCommand('set_flap', (Number(flap) * 2048 / 100 - 1024).toFixed(0)); } else { Logger.error('Command to not sent since invalid flap value detected! Flap Setpoint:' + flap); return false; } }, /** * Sends a kp gain value to the autopilot * @function sendKPGain * @param type {string} One of: `flap`, `altitude`, `throttle`, `heading`, `roll`, `pitch`, `yaw` * @param gain {string|Number} The gain value * @returns {boolean} Whether the command sent successfully */ sendKPGain: function (type, gain) { if (Validator.isNonEmptyString(type) &amp;&amp; Validator.isValidNumber(gain)) { return this.sendCommand('set_' + type + 'KPGain', gain); } else { Logger.error('Command to not sent since invalid gain value detected! Gain value:' + gain); return false; } }, /** * Sends a ki gain value to the autopilot * @function sendKIGain * @param type {string} One of: `flap`, `altitude`, `throttle`, `heading`, `roll`, `pitch`, `yaw` * @param gain {string|Number} The gain value * @returns {boolean} Whether the command sent successfully */ sendKIGain: function (type, gain) { if (Validator.isNonEmptyString(type) &amp;&amp; Validator.isValidNumber(gain)) { return this.sendCommand('set_' + type + 'KIGain', gain); } else { Logger.error('Command to not sent since invalid gain value detected! Gain value:' + gain); return false; } }, /** * Sends a kd gain value to the autopilot * @function sendKDGain * @param type {string} One of: `flap`, `altitude`, `throttle`, `heading`, `roll`, `pitch`, `yaw` * @param gain {string|Number} The gain value * @returns {boolean} Whether the command sent successfully */ sendKDGain: function (type, gain) { if (Validator.isNonEmptyString(type) &amp;&amp; Validator.isValidNumber(gain)) { return this.sendCommand('set_' + type + 'KDGain', gain); } else { Logger.error('Command to not sent since invalid gain value detected! Gain value:' + gain); return false; } }, /** * Sends a path gain value to the autopilot * @function sendPathGain * @param gain {string|Number} The gain value * @returns {boolean} Whether the command sent successfully */ sendPathGain: function (gain) { if (Validator.isValidNumber(gain)) { return this.sendCommand('set_pathGain', gain); } else { Logger.error('Command to not sent since invalid path gain value detected! Gain value:' + gain); return false; } }, /** * Sends a orbital gain value to the autopilot * @function sendOrbitGain * @param gain {string|Number} The gain value * @returns {boolean} Whether the command sent successfully */ sendOrbitGain: function (gain) { if (Validator.isValidNumber(gain)) { return this.sendCommand('set_orbitGain', gain); } else { Logger.error('Command to not sent since invalid orbit gain value detected! Gain value:' + gain); return false; } }, /** * Sends an autonomous level to the picpilot. Check the datalink docs for more info * @function sendAutoLevel * @param level {string|Number} The autonomous level as a decimal value * @returns {boolean} Whether the command sent successfully */ sendAutoLevel: function (level) { if (Validator.isInteger(level) &amp;&amp; Validator.isPositiveNumber(level)) { return this.sendCommand('set_autonomousLevel', level); } else { Logger.error('Command not sent since invalid autonomous level value detected! Value: ' + level); return false; } }, /** * Arms the plane * @function armPlane * @returns {boolean} Whether the command sent successfully */ armPlane: function () { return this.sendProtectedCommand('arm_vehicle'); }, /** * Disarms the plane * @function disarmPlane * @returns {boolean} Whether the command sent successfully */ disarmPlane: function () { return this.sendProtectedCommand('dearm_vehicle'); }, /** * Kills the plane * @function killPlane * @returns {boolean} Whether the command sent successfully */ killPlane: function () { return this.sendProtectedCommand('kill_plane'); }, /** * Unkills the plane * @function unkillPlane * @returns {boolean} Whether the command sent successfully */ unkillPlane: function () { return this.sendProtectedCommand('unkill_plane'); }, /** * Drop a probe * @function dropProbe * @param number {string|Number} The probe number of which to drop * @returns {boolean} Whether the command sent successfully */ dropProbe: function (number) { if (Validator.isInteger(number) &amp;&amp; Validator.isPositiveNumber(number)) { return this.sendCommand('drop_probe', number); } else { Logger.error('dropProbe command not since invalid probe number was passed in. Number: ' + number); } }, /** * Reset a probe * @function resetProbe * @param number {string|Number} The probe number of which to drop * @returns {boolean} Whether the command sent successfully */ resetProbe: function (number) { if (Validator.isInteger(number) &amp;&amp; Validator.isPositiveNumber(number)) { return this.sendCommand('reset_probe', number); } else { Logger.error('resetProbe command not since invalid probe number was passed in. Number: ' + number); return false; } }, /** * Clears all the waypoints for the path manager * @function clearWaypoints * @returns {boolean} Whether the command sent successfully */ clearWaypoints: function () { return this.sendCommand('clear_waypoints', 1); }, /** * Sets the target waypoint for the autopilot's path manager * @function setTargetWaypoint * @param number {String | Number} The id of the waypoint * @returns {boolean} Whether the command sent successfully */ setTargetWaypoint: function (number) { if (Validator.isInteger(number) &amp;&amp; Validator.isPositiveNumber(number)) { return this.sendCommand('set_targetWaypoint', number); } else { Logger.error('setTargetWaypoint command not since invalid waypoint number was passed in. Number: ' + number); return false; } }, /** * Tells the aircraft to go to it's home waypoint * function returnHome * @returns {boolean} Whether the command sent successfully */ returnHome: function () { return this.sendCommand('return_home', 1); }, /** * Cancels the return home command * function cancelReturnHome * @returns {boolean} Whether the command sent successfully */ cancelReturnHome: function () { return this.sendCommand('cancel_returnHome', 1); }, /** * Sets the home coordinates for the autopilot * @param lat {string | Number} Latitude of home target * @param lon {string | Number} Longitude of home target * @param alt {string | Number} Altitude of home target * @returns {boolean} Whether the command sent successfully */ sendHomeCoordinates: function (lat, lon, alt) { if (Validator.isValidLatitude(lat) &amp;&amp; Validator.isValidLongitude(lon) &amp;&amp; Validator.isValidAltitude(alt)) { return this.sendCommand('set_ReturnHomeCoordinates', lon, lat, alt); } else { Logger.error(`sendHomeCoordinates command not since invalid coordinates were passed in. Altitude: ${alt}, Latitude: ${lat}, Longitude: ${lon}`); } }, /** * Appends a waypoint to the autopilots flight plan * @function appendWaypoint * @param lat {string | Number} Latitude of waypoint * @param lon {string | Number} Longitude of waypoint * @param alt {string | Number} Altitude of waypoint * @param radius {string | Number} Radius, in m, of the waypoint * @param probe_drop {boolean} Whether the waypoint is a probe drop location * @returns {boolean} Whether the command sent successfully */ appendWaypoint: function (lat, lon, alt, radius, probe_drop) { if (Validator.isValidLatitude(lat) &amp;&amp; Validator.isValidLongitude(lon) &amp;&amp; Validator.isValidAltitude(alt) &amp;&amp; Validator.isPositiveNumber(radius)) { return this.sendCommand('new_waypoint', lon, lat, alt, radius, (!!probe_drop) * 1); } else { Logger.error(`appendWaypoint command not since invalid coordinates or radius were passed in. Altitude: ${alt}, Latitude: ${lat}, Longitude: ${lon}, Radius: ${radius}`); return false; } }, /** * Inserts a waypoint at a specified index to the autopilot's flight plan * @function insertWaypoint * @param index {int} The index of the waypoint * @param lat {string | Number} Latitude of waypoint * @param lon {string | Number} Longitude of waypoint * @param alt {string | Number} Altitude of waypoint * @param radius {string | Number} Radius, in m, of the waypoint * @returns {boolean} Whether the command sent successfully */ insertWaypoint: function (index, lat, lon, alt, radius) { //note: Probe drop type hasn't been implemented here yet if (Validator.isInteger(index) &amp;&amp; Validator.isPositiveNumber(index) &amp;&amp; Validator.isValidLatitude(lat) &amp;&amp; Validator.isValidLongitude(lon) &amp;&amp; Validator.isValidAltitude(alt) &amp;&amp; Validator.isPositiveNumber(radius)) { return this.sendCommand('insert_Waypoint', lon, lat, alt, radius, index - 1, index + 1); } else { Logger.error(`insertWaypoint command not since invalid coordinates or radius were passed in. Index: ${index}, Altitude: ${alt}, Latitude: ${lat}, Longitude: ${lon}, Radius: ${radius}`); return false; } }, /** * Inserts a waypoint at a specified index to the autopilot's flight plan * @function insertWaypoint * @param index {int} The index of the waypoint * @param lat {string | Number} Latitude of waypoint * @param lon {string | Number} Longitude of waypoint * @param alt {string | Number} Altitude of waypoint * @param radius {string | Number} Radius, in m, of the waypoint * @param probe_drop {boolean} Whether the waypoint is a probe drop location * @returns {boolean} Whether the command sent successfully */ updateWaypoint: function (index, lat, lon, alt, radius, probe_drop) { if (Validator.isInteger(index) &amp;&amp; Validator.isPositiveNumber(index) &amp;&amp; Validator.isValidLatitude(lat) &amp;&amp; Validator.isValidLongitude(lon) &amp;&amp; Validator.isValidAltitude(alt) &amp;&amp; Validator.isPositiveNumber(radius)) { return this.sendCommand('update_waypoint', lon, lat, alt, radius, (!!probe_drop) * 1, index); } else { Logger.error(`updateWaypoint command not since invalid coordinates or radius were passed in. Index: ${index}, Altitude: ${alt}, Latitude: ${lat}, Longitude: ${lon}, Radius: ${radius}`); return false; } }, /** * Removes a waypoint from the autopilot's flight plan * @function removeWaypoint * @param index {String | Number} The id of the waypoint * @returns {boolean} Whether the command sent successfully */ removeWaypoint: function (index) { if (Validator.isInteger(index) &amp;&amp; Validator.isPositiveNumber(index)) { return this.sendCommand('remove_waypoint', index); } else { Logger.error('removeWaypoint command not since invalid waypoint number was passed in. Number: ' + index); return false; } }, /** * Tell the aircraft to follow the flight plan * @function followPath * @param status {boolean} Whether the plane should follow the flight plan * @returns {boolean} Whether the command sent successfully */ followPath: function (status) { if (status) { return this.sendCommand('follow_path', 1); } else { return this.sendCommand('follow_path', 0); } }, /** * Send a heartbeat to the plane * @function sendHeartbeat * @returns {boolean} Whether the command sent successfully */ sendHeartbeat: function () { if (this.sendCommand('send_heartbeat', 1)) { Logger.debug('[HEARTBEAT] Sent heartbeat to the picpilot'); } } }; module.exports = Commands; × Search results Close "},"util_PacketParser.js.html":{"id":"util_PacketParser.js.html","title":"Source: util/PacketParser.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: util/PacketParser.js /** * @author Serge Babayan * @module util/PacketParser * @requires util/Logger * @requires util/Validator * @requires models/PacketTypes * @requires underscore * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Parses data received from the data relay into a usable format for the ground station's event emitters * @see http://docs.uwarg.com/picpilot/datalink/ */ var PacketTypes = require('../models/PacketTypes'); var Logger = require('./Logger'); var Validator = require('./Validator'); var _ = require('underscore'); var PacketParser = { /** * Compares the received headers to that of the headers in the PacketTypes module. * Warns the user if there are extra or missing headers * @function checkForMissingHeaders * @param {Array} headers_array */ checkForMissingHeaders: function (headers_array) { var expected_headers = {}; //create a list of the headers we expect to receive and set their value to 0 _.each(PacketTypes, function (packet_headers) { _.each(packet_headers, function (validator, header_name) { expected_headers[header_name] = 0; }) }); _.each(headers_array, function (header_name) { //if we receive a header that wasn't listed in the PacketTypes model if (expected_headers[header_name] === undefined) { Logger.warn('An unexpected header was received from the data relay. Header: ' + header_name); } else { expected_headers[header_name]++; } }); _.each(expected_headers, function (count, header_name) { if (count === 0) { Logger.warn('Did not receive an expected header! Header: ' + header_name); } else if (count &gt; 1) { Logger.warn('Header: ' + header_name + ' was received more than once! Times: ' + count); } }); }, /** * Converts a string of data into a packet type object, to be emitted by the TelemetryData module. * Uses the PacketTypes module in order to sort the headers into the appropriate packet types as well * as to perform the correct validations on each one * @function parseData * @param data {string} A stringified version of the data (split by commas) * @param headers_array {Array} An array of the headers in the same order as the headers * @returns {Object} A hash indexed by the packet type name, with the values being another hash in a format of header_name =&gt; data_value * @throws Error if the specified validation function doesn't exist * @example &lt;caption&gt; Given &lt;code&gt;'34, 89.654, ...'&lt;/code&gt; as data and &lt;code&gt;['heading', 'lon', ...]&lt;/code&gt; as headers, will return: &lt;/caption&gt; * { * aircraft_position: { * heading: 34, * lon: 89.654 * ... * }, * aircraft_orientation: {...}, * aircraft_gains: {...} * ... * } */ parseData: function (data, headers_array) { if(!data || !headers_array){ return {}; } var data_array = data.split(&quot;,&quot;).map(function(data){ return data.trim(); }); var sorted_data = {}; var current_state = {}; //warn the user if we receive an improper number of data if (data_array.length !== headers_array.length) { Logger.error('Number of data headers doesn\\'t match the number of data! Length of data: ' + data_array.length + ' Length of headers: ' + headers_array.length); } //creates a current_state object, which is a hash with the keys being the header name, and the value being the data for that header for (var i = 0; i &lt; headers_array.length; i++) { current_state[headers_array[i]] = data_array[i]; } _.each(PacketTypes, function (packet_headers, packet_type_name) { var packet_data = {}; _.each(packet_headers, function (validators, header_name) { //if it is null, that means the data relay intentionally didn't send us the data if (current_state[header_name] === '') { packet_data[header_name] = null; } //warn the user if we didn't receive a piece of data (happens if we don't receive enough data) else if (current_state[header_name] === undefined) { Logger.error('Parsing Error. Value for header ' + header_name + ' not received'); packet_data[header_name] = null; } //otherwise if we received a piece of data, perform the necessary validations on it and convert it to a number else { if (validators === null) { packet_data[header_name] = Number(current_state[header_name]); } else if (typeof validators === 'string') { //if its only a single validation function if (typeof Validator[validators] !== 'function') { throw new Error('Validator function ' + validators + ' does not exist!'); } else if (Validator[validators](current_state[header_name])) { packet_data[header_name] = Number(current_state[header_name]); } else { Logger.warn('Validation failed for ' + header_name + '. Value: ' + current_state[header_name]); packet_data[header_name] = null; } } else { //if its in array and there are multiple validation functions var failed = false; for (var i = 0; i &lt; validators.length; i++) { if (typeof Validator[validators[i]] !== 'function') { throw new Error('Validator function ' + validators[i] + ' does not exist!'); } else if (!Validator[validators[i]](current_state[header_name])) { failed = true; } } if (failed) { Logger.warn('Validation failed for ' + header_name + '. Value: ' + current_state[header_name]); packet_data[header_name] = null; } else { packet_data[header_name] = Number(current_state[header_name]); } } } }); sorted_data[packet_type_name] = packet_data; }); return sorted_data; } }; module.exports = PacketParser; × Search results Close "},"util_PersistentSettings.js.html":{"id":"util_PersistentSettings.js.html","title":"Source: util/PersistentSettings.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: util/PersistentSettings.js /** * @author Serge Babayan * @module util/PersistentSettings * @requires path * @requires node-persist * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description This module provides persistent settings support to the app. It uses [node-persist](https://github.com/simonlast/node-persist) * which provides a local storage api for saving settings. It takes in a `config` object found in the `project_root/config folder` * of the app and returns a new wrapper object for setting and accessing persistent settings. */ var PersistentStorage = require('node-persist'); var path = require('path'); //initialize the PersistentStorage module with the specified directory to save its contents to PersistentStorage.initSync({ dir: path.join(__dirname, '../../persistent_storage') }); /** * @class PersistentSettings * @param file_name The file name of the config file (ie. 'advanced-settings'). This is used as the prefix to its keys * @param settings The contents of the config object. These are used to generate the key-value pairs that are saved in settings */ var PersistentSettings = function (file_name, settings) { &quot;use strict&quot;; /** @property file_name {string} The stored file name. Usually not used externally */ this.file_name = file_name; /** @property default_settings {Hash} The original default settings that are stored from the config objects. */ this.default_settings = settings; for (var key in settings) { if (settings.hasOwnProperty(key)) { if (!PersistentStorage.getItemSync(this.file_name + '_' + key)) { //if the key doesn't exist in local storage yet PersistentStorage.setItemSync(this.file_name + '_' + key, settings[key]); //create the key in local storage } } } /** * @param key {string} The key to retrieve the value of * @returns {Object} The value that is stored in the key. * The object type stays intact (so if its defined as an array in the config object, it will return an array) */ this.get = function (key) { return PersistentStorage.getItemSync(this.file_name + '_' + key); }; /** * * @param key {string} The key to set * @param value {Object} The value to set */ this.set = function (key, value) { PersistentStorage.setItemSync(this.file_name + '_' + key, value); }; }; module.exports = PersistentSettings; × Search results Close "},"util_Template.js.html":{"id":"util_Template.js.html","title":"Source: util/Template.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: util/Template.js /** * @author Serge Babayan * @module util/Template * @requires fs * @requires underscore * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description This module uses [underscore's](http://underscorejs.org/#template) template generation with an input from the html files * in the `project_root/views` directory. It outputs a templated file (stringified version of the html) * that you can use as a template to your views. */ var fs = require('fs'); var _ = require('underscore'); var app_root = require('root-path'); /** * @function * @param template_name {string} The name of the html file you'd like to use as the template for your view. * If its in the root of the views folder, just put in the file name. If its under a directory, * include the directory name (eg. `&quot;subdirectory/MyHTMLFILE.html&quot;`) * @returns {Object} A stringified version of the html that the view can use * as its template. * @example * &lt;caption&gt;Usage of the Template class in a view&lt;/caption&gt; * var Template=require('./util/Template'); * return Template('my_html_file_name_in_views.html'); * //Use the output from this ^^ as your views template. */ var Template = function (template_name) { return _.template(fs.readFileSync(app_root('templates/views/' + template_name + '.html'), 'utf8')); }; module.exports = Template; × Search results Close "},"util_Validator.js.html":{"id":"util_Validator.js.html","title":"Source: util/Validator.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: util/Validator.js /** * @author Serge Babayan * @module util/Validator * @requires underscore * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Useful and commonly used validation functions used throughout the app */ var _ = require('underscore'); var Validator = { /** * Checks if a value is numeric (Note: `'123.32'` and `123.32` are both numeric) * @function isValidNumber * @param number {string | Number} The value to check * @returns {boolean} */ isValidNumber: function (number) { return !isNaN(parseFloat(number)) &amp;&amp; isFinite(number); }, /** * Checks if a value is a float only * @function isFloat * @param number {string | Number} The value to check * @returns {boolean} * @example * Validator.isFloat('23.23') //true * Validator.isFloat(34.44) //true * Validator.isFloat(4) //false * Validator.isFloat('4') //false */ isFloat: function (number) { if (this.isValidNumber(number)) { var n = Number(number); return n === +n &amp;&amp; n !== (n | 0); } else { return false; } }, /** * Checks if a value is an integer only * @function isInteger * @param number {string | Number} The value to check * @returns {boolean} * @example * Validator.isInteger('23.23') //false * Validator.isInteger(34.44) //false * Validator.isInteger(4) //true * Validator.isInteger('4') //true */ isInteger: function (number) { if (this.isValidNumber(number)) { var n = Number(number); return n === +n &amp;&amp; n === (n | 0); } else { return false; } }, /** * Checks if a value is a positive number * @function isPositiveNumber * @param number {string | Number} The value to check * @returns {boolean} */ isPositiveNumber: function (number) { return this.isValidNumber(number) &amp;&amp; Number(number) &gt;= 0; }, /** * Checks if a value is a bollean integer (1 or 0) * @function isBooleanInt * @param number {string | Number} The value to check * @returns {boolean} */ isBooleanInt: function (number) { return this.isInteger(number) &amp;&amp; (number == 1 || number == 0); }, /** * Checks if a value is a string * @function isString * @param value {mixed} The value to check * @returns {boolean} */ isString: function (value) { return typeof value === 'string' || value instanceof String; }, /** * Checks if a value is a string * @function isNonEmptyString * @param value {string} The value to check * @returns {boolean} */ isNonEmptyString: function (value) { return this.isString(value) &amp;&amp; value.trim().length &gt; 0; }, /** * Checks if a value is an object * @function isObject * @param object {Object} The value to check * @returns {boolean} */ isObject: function (object) { return _.isObject(object); }, /** * Checks if a value is valid percentage between 0 and 100 * @function isValidPercentage * @param percentage {string | Number} The value to check * @returns {boolean} */ isValidPercentage: function (percentage) { if (this.isValidNumber(percentage)) { var num = Number(percentage); if (num &gt;= 0 &amp;&amp; num &lt;= 100) { return true; } } return false; }, /** * Checks if a value is valid pitch (number between -180 and 180) * @function isValidPitch * @param pitch {string | Number} The value to check * @returns {boolean} */ isValidPitch: function (pitch) { if (this.isValidNumber(pitch)) { pitch = Number(pitch); return pitch &gt;= -180 &amp;&amp; pitch &lt;= 180; } return false; }, /** * Checks if a value is valid roll (number between -180 and 180) * @function isValidRoll * @param roll {string | Number} The value to check * @returns {boolean} */ isValidRoll: function (roll) { if (this.isValidNumber(roll)) { roll = Number(roll); return roll &gt;= -180 &amp;&amp; roll &lt;= 180; } return false; }, /** * Checks if a value is valid roll * @function isValidYaw * @param yaw {string | Number} The value to check * @returns {boolean} */ isValidYaw: function (yaw) { return this.isValidNumber(yaw); }, /** * Checks if a value is valid roll (number between 0 and 360) * @function isValidHeading * @param heading {string | Number} The value to check * @returns {boolean} */ isValidHeading: function (heading) { if (this.isValidNumber(heading)) { heading = Number(heading); return heading &gt;= 0 &amp;&amp; heading &lt;= 360; } return false; }, /** * Checks if a value is valid, positive speed * @function isValidSpeed * @param speed {string | Number} The value to check * @returns {boolean} */ isValidSpeed: function (speed) { return this.isPositiveNumber(speed); }, /** * Checks if a value is valid altitude (number above -5m) * @function isValidAltitude * @param altitude {string | Number} The value to check * @returns {boolean} */ isValidAltitude: function (altitude) { return this.isValidNumber(altitude) &amp;&amp; Number(altitude) &gt; -5; }, /** * Checks if a value is valid 10-bit pwm value (between -1024 and 1024) * @function isValidPWM * @param value {string | Number} The value to check * @returns {boolean} */ isValidPWM: function (value) { if (this.isInteger(value)) { value = Number(value); return value &gt;= -1024 &amp;&amp; value &lt;= 1024; } return false; }, /** * Checks if a value is valid throttle (between -1024 and 1024) * @function isValidThrottle * @param throttle {string | Number} The value to check * @returns {boolean} */ isValidThrottle: function (throttle) { return this.isValidPWM(throttle); }, /** * Checks if a value is valid flap (between -1024 and 1024) * @function isValidFlap * @param flap {string | Number} The value to check * @returns {boolean} */ isValidFlap: function (flap) { return this.isValidPWM(flap); }, /** * Checks if a value is valid latitude * @function isValidLatitude * @param lat {string | Number} The value to check * @returns {boolean} */ isValidLatitude: function (lat) { return this.isValidNumber(lat); }, /** * Checks if a value is valid longitude * @function isValidLongitude * @param lon {string | Number} The value to check * @returns {boolean} */ isValidLongitude: function (lon) { return this.isValidNumber(lon); }, /** * Checks if a value is valid UTC time * @function isValidTime * @param timestring {string | Number} The value to check * @returns {boolean} */ isValidTime: function (timestring) { return this.isPositiveNumber(timestring); }, /** * Checks if a value is valid battery level * @function isValidBattery * @param battery {string | Number} The value to check * @returns {boolean} */ isValidBattery: function (battery) { return this.isValidNumber(battery) &amp;&amp; Number(battery) &gt;= 0 &amp;&amp; Number(battery) &lt;= 100; }, /** * Checks if a value is valid gps status * @function isValidGpsStatus * @param gps {string | Number} The value to check * @returns {boolean} */ isValidGpsStatus: function (gps) { return this.isInteger(gps) &amp;&amp; this.isPositiveNumber(gps); } }; module.exports = Validator; × Search results Close "},"views_3dView.js.html":{"id":"views_3dView.js.html","title":"Source: views/3dView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/3dView.js /** * @author Serge Babayan * @module views/3dView * @requires util/Template * @requires models/PlaneScene * @requires util/Validator * @requires models/TelemetryData * @requires electron * @listens models/TelemetryData~TelemetryData:data_received * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Responsible for displaying a 3D view of the aircraft's orientation using the data from the TelemetryData * module */ var remote = require('electron').remote; var Template = require('../util/Template'); var PlaneScene = require('../models/PlaneScene'); var TelemetryData = remote.require('./app/models/TelemetryData'); var Validator = require('../util/Validator'); module.exports = function (Marionette, THREE, window) { return Marionette.ItemView.extend({ template: Template('3dView'), className: 'threeDView', ui: { plane_scene: '#plane-scene' }, initialize: function () { this.planeScene = new PlaneScene(THREE, window); }, onRender: function () { this.ui.plane_scene.append(this.planeScene.renderer.domElement); this.data_callback = this.dataCallback.bind(this); this.ui.plane_scene.resize(function () { this.planeScene.resize(this.ui.plane_scene.width(), this.ui.plane_scene.height()); }.bind(this)); TelemetryData.addListener('data_received', this.data_callback); }, dataCallback: function (data) { var set_pitch = 0, set_roll = 0, set_yaw = 0; if (Validator.isValidHeading(data.heading)) { set_yaw = data.heading; } if (Validator.isValidPitch(data.pitch)) { set_pitch = data.pitch; } if (Validator.isValidRoll(data.roll)) { set_roll = data.roll; } this.planeScene.rotateAircraft(set_pitch, set_yaw, set_roll); }, onBeforeDestroy: function () { TelemetryData.removeListener('data_received', this.data_callback); } }); }; × Search results Close "},"views_AltitudeView.js.html":{"id":"views_AltitudeView.js.html","title":"Source: views/AltitudeView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/AltitudeView.js /** * @author Serge Babayan * @module views/AltitudeView * @requires models/Commands * @requires util/Validator * @requires util/Logger * @requires models/TelemetryData * @requires util/Template * @requires electron * @listens models/TelemetryData~TelemetryData:data_received * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Responsible for displaying a the aircrafts altitude, air and ground speed via dials */ var remote = require('electron').remote; var Template = require('../util/Template'); var TelemetryData = remote.require('./app/models/TelemetryData'); var Logger = remote.require('./app/util/Logger'); var Validator = require('../util/Validator'); var Commands = remote.require('./app/models/Commands'); module.exports = function (Marionette) { return Marionette.ItemView.extend({ template: Template('AltitudeView'), className: 'altitudeView', ui: { altitude_dials: '.dial-picture', altitude_hand: '.height-dial .dial-hand', altitude_text: '.height-dial .current-value', altitude_setpoint_text: '.height-dial .auto-pilot-setpoint', altitude_input: '.height-dial input', ground_speed_hand: '.ground-speed-dial .dial-hand', ground_speed_text: '.ground-speed-dial .current-value', ground_speed_text_kmh: '.ground-speed-dial .current-valuekmh', air_speed_hand: '.air-speed-dial .dial-hand', air_speed_text: '.air-speed-dial .current-value', air_speed_text_kmh: '.air-speed-dial .current-valuekmh', }, events: { 'submit .height-dial form': 'sendAltitudeSetpointCommand' }, initialize: function () { //For drawing the dial correctly this.max_ground_speed = 40; this.max_air_speed = 40; this.max_altitude = 200; this.telemetry_callback = null; this.first_resize = true; }, onRender: function () { this.ui.altitude_dials.parent().resize(this.setCanvasDimensions.bind(this)); this.telemetry_callback = this.telemetryCallback.bind(this); TelemetryData.addListener('aircraft_position', this.telemetry_callback); }, onBeforeDestroy: function () { TelemetryData.removeListener('aircraft_position', this.telemetry_callback); }, telemetryCallback: function (data) { this.setAltitude(data.altitude); this.setAltitudeSetpoint(data.altitude_setpoint); this.setGroundspeed(data.ground_speed); this.setAirspeed(data.airspeed); }, setCanvasDimensions: function () { var canvas_dimensions = Math.min(this.ui.altitude_dials.parent().width() - 12, this.ui.altitude_dials.parent().height() - 105); if ((canvas_dimensions &amp;&amp; canvas_dimensions &gt; 100) || this.first_resize) { this.ui.altitude_dials.css({ width: canvas_dimensions, height: canvas_dimensions }); this.first_resize = false; } }, setAltitude: function (altitude) { if(altitude !== null){ var degrees = (altitude / this.max_altitude) * 360; this.ui.altitude_hand.css('transform', 'rotate(' + degrees + 'deg)'); this.ui.altitude_text.text(altitude.toFixed(1)); } }, setGroundspeed: function (speed) { if(speed !== null){ var degrees = (speed / this.max_ground_speed) * 360; this.ui.ground_speed_hand.css('transform', 'rotate(' + degrees + 'deg)'); this.ui.ground_speed_text.text(speed.toFixed(1)); this.ui.ground_speed_text_kmh.text((speed * 3.6).toFixed(1)); } }, setAirspeed: function (speed) { if(speed !== null){ var degrees = (speed / this.max_ground_speed) * 360; this.ui.air_speed_hand.css('transform', 'rotate(' + degrees + 'deg)'); this.ui.air_speed_text.text(speed.toFixed(1)); this.ui.air_speed_text_kmh.text((speed * 3.6).toFixed(1)); } }, setAltitudeSetpoint: function (altitude) { if(altitude !== null){ this.ui.altitude_setpoint_text.text(altitude.toFixed(2)); } }, sendAltitudeSetpointCommand: function (e) { e.preventDefault(); Commands.sendAltitude(this.ui.altitude_input.val()); this.ui.altitude_input.val(''); } }); }; × Search results Close "},"views_AppSettingsView.js.html":{"id":"views_AppSettingsView.js.html","title":"Source: views/AppSettingsView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/AppSettingsView.js /** * @author Serge Babayan * @module views/AppSettingsView * @requires util/Template * @requires views/ParentSettingsView * @requires config/advanced-config * @requires config/application-config * @requires config/map-config * @requires config/picpilot-config * @requires electron * @extends views/ParentSettingsView * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Responsible general app settings */ var Template = require('../util/Template'); var ParentSettingsView = require('./ParentSettingsView'); var remote = require('electron').remote; //the setting files to display var advanced_config = remote.require('./config/advanced-config'); var app_config = remote.require('./config/application-config'); var map_config = remote.require('./config/map-config'); var picpilot_config = remote.require('./config/picpilot-config'); module.exports = function (Marionette, $) { return ParentSettingsView(Marionette, $).extend({ template: Template('AppSettingsView'), onRender: function () { this.ui.app_settings.append('&lt;h2&gt;Advanced Settings&lt;/h2&gt;'); this.addSettings(advanced_config); this.ui.app_settings.append('&lt;h2&gt;Application Settings&lt;/h2&gt;'); this.addSettings(app_config); this.ui.app_settings.append('&lt;h2&gt;Map Settings&lt;/h2&gt;'); this.addSettings(map_config); this.ui.app_settings.append('&lt;h2&gt;Picpilot Settings&lt;/h2&gt;'); this.addSettings(picpilot_config); } }); }; × Search results Close "},"views_AttitudeView.js.html":{"id":"views_AttitudeView.js.html","title":"Source: views/AttitudeView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/AttitudeView.js /** * @author Serge Babayan * @module views/AttitudeView * @requires models/Commands * @requires util/Validator * @requires util/Logger * @requires models/TelemetryData * @requires util/Template * @requires electron * @listens models/TelemetryData~TelemetryData:data_received * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Responsible for displaying a the aircraft's attitude via dials (heading, roll, pitch) */ var remote = require('electron').remote; var Template = require('../util/Template'); var TelemetryData = remote.require('./app/models/TelemetryData'); var Logger = remote.require('./app/util/Logger'); var Validator = require('../util/Validator'); var Commands = remote.require('./app/models/Commands'); module.exports = function (Marionette) { return Marionette.ItemView.extend({ template: Template('AttitudeView'), className: 'attitudeView', ui: { attitude_dials: '.dial-picture', pitch_dial: '.pitch-dial .dial-picture .fluid', roll_dial: '.roll-dial .dial-picture .fluid', heading_dial: '.heading-dial .dial-picture .image-overlay', horizon_dial: '.horizon-dial .dial-picture .fluid', pitch_text: '.pitch-dial .current-value', roll_text: '.roll-dial .current-value', heading_text: '.heading-dial .current-value', pitch_setpoint: '.pitch-dial .auto-pilot-setpoint', roll_setpoint: '.roll-dial .auto-pilot-setpoint', heading_setpoint: '.heading-dial .auto-pilot-setpoint', roll_input: '.roll-dial form input', pitch_input: '.pitch-dial form input', heading_input: '.heading-dial form input' }, events: { 'submit .roll-dial form': 'sendSetRoll', 'submit .pitch-dial form': 'sendSetPitch', 'submit .heading-dial form': 'sendSetHeading' }, initialize: function () { this.current_pitch = null; this.current_roll = null; this.current_heading = null; this.telemetry_callback = null; }, onRender: function () { this.ui.attitude_dials.parent().resize(this.setCanvasDimensions.bind(this)); this.telemetry_callback = this.telemetryCallback.bind(this); TelemetryData.addListener('data_received', this.telemetry_callback); }, onBeforeDestroy: function () { TelemetryData.removeListener('data_received', this.telemetry_callback); }, telemetryCallback: function (data) { this.setPitch(data.pitch); this.setRoll(data.roll); this.setHeading(data.heading); this.setPitchSetpoint(data.pitch_setpoint); this.setRollSetpoint(data.roll_setpoint); this.setHeadingSetpoint(data.heading_setpoint); }, setCanvasDimensions: function () { var canvas_dimensions = Math.min(this.ui.attitude_dials.parent().width() - 12, this.ui.attitude_dials.parent().height() - 105); if (canvas_dimensions &amp;&amp; canvas_dimensions &gt; 100) { this.ui.attitude_dials.css({ width: canvas_dimensions, height: canvas_dimensions }); } }, setPitch: function (pitch) { if (Validator.isValidPitch(pitch)) { this.ui.pitch_text.text(Number(pitch).toFixed(1)); var int_pitch = Math.round(Number(pitch)); if (int_pitch !== this.current_pitch) { //we only update the display if its something different this.current_pitch = int_pitch; var pitchPercent = (Number(pitch) / 90).toFixed(2); var dial_height = this.ui.pitch_dial.parent().height() / 2; this.ui.horizon_dial.css('height', Math.round(dial_height + dial_height * pitchPercent) + 'px'); this.ui.pitch_dial.css('transform', 'rotate(' + int_pitch + 'deg) scale(2)'); } } else { this.ui.pitch_dial.css('transform', 'rotate(0deg) scale(2)'); Logger.warn('Invalid pitch value received! Pitch: ' + pitch); } }, setRoll: function (roll) { if (Validator.isValidRoll(roll)) { this.ui.roll_text.text(Number(roll).toFixed(1)); var int_roll = Math.round(Number(roll)); if (int_roll !== this.current_roll) { //we only update the display if its something different this.current_roll = int_roll; this.ui.horizon_dial.css('transform', 'rotate(' + -1 * int_roll + 'deg) scale(2)'); //multiply by negative 1 because thats how roll works on a horizon dial this.ui.roll_dial.css('transform', 'rotate(' + int_roll + 'deg) scale(2)'); } } else { this.ui.roll_dial.css('transform', 'rotate(0deg) scale(2)'); Logger.warn('Invalid roll value received! Roll: ' + roll); } }, setHeading: function (heading) { if (Validator.isValidHeading(heading)) { this.ui.heading_text.text(Number(heading).toFixed(1)); var int_heading = Math.round(Number(heading)); if (int_heading !== this.current_heading) { //we only update the display if its something different this.current_heading = int_heading; this.ui.heading_dial.css('transform', 'rotate(' + int_heading + 'deg)'); } } else { this.ui.heading_dial.css('transform', 'rotate(' + 0 + 'deg)'); Logger.warn('Invalid heading value received! Heading: ' + heading); } }, setRollSetpoint: function (roll) { if (Validator.isValidNumber(roll)) { this.ui.roll_setpoint.text(Number(roll).toFixed(2)); } else { this.ui.roll_setpoint.text('Invalid'); Logger.warn('Invalid setRoll value received!! Roll: ' + roll); } }, setPitchSetpoint: function (pitch) { if (Validator.isValidNumber(pitch)) { this.ui.pitch_setpoint.text(Number(pitch).toFixed(2)); } else { this.ui.pitch_setpoint.text('Invalid'); Logger.warn('Invalid setPoll value received!! Pitch: ' + pitch); } }, setHeadingSetpoint: function (heading) { if (Validator.isValidNumber(heading)) { this.ui.heading_setpoint.text(Number(heading).toFixed(2)); } else { this.ui.heading_setpoint.text('Invalid'); Logger.warn('Invalid setHeading value received!! Heading: ' + heading); } }, sendSetPitch: function (e) { e.preventDefault(); Commands.sendPitch(this.ui.pitch_input.val()); this.ui.pitch_input.val(''); }, sendSetRoll: function (e) { e.preventDefault(); Commands.sendRoll(this.ui.roll_input.val()); this.ui.roll_input.val(''); }, sendSetHeading: function (e) { e.preventDefault(); Commands.sendHeading(this.ui.heading_input.val()); this.ui.heading_input.val(''); } }); }; × Search results Close "},"views_AutoAdjustView.js.html":{"id":"views_AutoAdjustView.js.html","title":"Source: views/AutoAdjustView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/AutoAdjustView.js /** * @author Serge Babayan * @module views/AutoAdjustView * @requires models/Commands * @requires util/Bitmask * @requires util/Logger * @requires models/TelemetryData * @requires util/Template * @requires electron * @listens models/TelemetryData~TelemetryData:data_received * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Aircraft autonomous level configuration view * @see http://docs.uwarg.com/picpilot/datalink/ */ var remote = require('electron').remote; var Template = require('../util/Template'); var Logger = remote.require('./app/util/Logger'); var Commands = remote.require('./app/models/Commands'); var Bitmask = require('../util/Bitmask'); var TelemetryData = remote.require('./app/models/TelemetryData'); module.exports = function (Marionette) { return Marionette.ItemView.extend({ template: Template('AutoAdjustView'), className: 'gainsAdjustView', ui: { all_button: &quot;#sendall&quot;, rc_button: &quot;#fullRC&quot;, auto_button: &quot;fullAuto&quot;, ground_button: &quot;fullGround&quot;, pitch_select: &quot;#pitchsource&quot;, roll_select: &quot;#rollsource&quot;, head_select: &quot;#headsource&quot;, alt_select: &quot;#altsource&quot;, throttle_select: &quot;#throttlesource&quot;, flap_select: &quot;#flapssource&quot;, rolltype_select: &quot;#rolltype&quot;, pitchtype_select: &quot;#pitchtype&quot;, alttype_select: '#altitudetype', headingtype_select: '#headingtype', remote_pitch_type: '#remote_pitch_type', remote_roll_type: '#remote_roll_type', remote_heading_toggle: '#remote_heading_toggle', remote_altitude_toggle: '#remote_altitude_toggle', remote_pitch_source: '#remote_pitch_source', remote_roll_source: '#remote_roll_source', remote_heading_source: '#remote_heading_source', remote_altitude_source: '#remote_altitude_source', remote_throttle_source: '#remote_throttle_source', remote_flap_source: '#remote_flap_source', remote_autonomous_level_value: '#remote_autonomous_level_value', autonomous_level_synced: '#autonomous_level_synced' }, events: { &quot;click #sendall&quot;: &quot;sendAll&quot;, &quot;click #fullRC&quot;: &quot;fullRC&quot;, &quot;click #fullAuto&quot;: &quot;fullAuto&quot;, &quot;click #fullGround&quot;: &quot;fullGround&quot;, &quot;click #gcRollRate&quot;: &quot;gcRollRate&quot;, &quot;click #gcHeading&quot;: &quot;gcHeading&quot;, &quot;click #pathFollowing&quot;: &quot;pathFollowing&quot; }, intialize: function () { this.telemetryCallback = null; }, onRender: function () { TelemetryData.on('data_received', this.dataReceivedCallback.bind(this)); }, //see the picpilot data link docs for a reference dataReceivedCallback: function (data) { this.ui.remote_autonomous_level_value.text(data.autonomousLevel); this.ui.autonomous_level_synced.text(Number(data.autonomousLevel) === this.encodeInputs() ? 'Yes' : 'No'); var alevel = new Bitmask(Number(data.autonomousLevel)); if (alevel.getBit(0)) { this.ui.remote_pitch_type.text('Angle'); } else { this.ui.remote_pitch_type.text('Rate'); } if (alevel.getBit(1)) { this.ui.remote_pitch_source.text('Ground Station'); } else { this.ui.remote_pitch_source.text('Controller'); } if (alevel.getBit(2)) { this.ui.remote_roll_type.text('Angle'); } else { this.ui.remote_roll_type.text('Rate'); } if (alevel.getBit(3)) { this.ui.remote_roll_source.text('Ground Station'); } else { this.ui.remote_roll_source.text('Controller'); } if (alevel.getBit(5)) { this.ui.remote_throttle_source.text('Autopilot'); } else if (alevel.getBit(4)) { this.ui.remote_throttle_source.text('Groundstation'); } else { this.ui.remote_throttle_source.text('Controller'); } if (alevel.getBit(6)) { this.ui.remote_altitude_source.text('Autopilot'); } else { this.ui.remote_altitude_source.text('Groundstation'); } if (alevel.getBit(7)) { this.ui.remote_altitude_toggle.text('On'); } else { this.ui.remote_altitude_toggle.text('Off'); } if (alevel.getBit(8)) { this.ui.remote_heading_source.text('Autopilot'); } else { this.ui.remote_heading_source.text('Groundstation'); } if (alevel.getBit(9)) { this.ui.remote_heading_toggle.text('On'); } else { this.ui.remote_heading_toggle.text('Off'); } if (alevel.getBit(11)) { this.ui.remote_flap_source.text('Autopilot'); } else if (alevel.getBit(10)) { this.ui.remote_flap_source.text('Groundstation'); } else { this.ui.remote_flap_source.text('Controller'); } }, sendAll: function (event) { Commands.sendAutoLevel(this.encodeInputs()); }, encodeInputs: function () { var autolevel = new Bitmask(0); if (this.ui.pitchtype_select.val() === &quot;Angle&quot;) { autolevel.setBit(0, true); } if (this.ui.pitch_select.val() === &quot;Ground Station&quot;) { autolevel.setBit(1, true); } if (this.ui.rolltype_select.val() === &quot;Angle&quot;) { autolevel.setBit(2, true); } if (this.ui.roll_select.val() === &quot;Ground Station&quot;) { autolevel.setBit(3, true); } if (this.ui.throttle_select.val() === &quot;Autopilot&quot;) { autolevel.setBit(5, true); } else if (this.ui.throttle_select.val() === &quot;Ground Station&quot;) { //we dont add anything if its a controller autolevel.setBit(4, true); } if (this.ui.alt_select.val() === &quot;Autopilot&quot;) { autolevel.setBit(6, true); } if (this.ui.alttype_select.val() === &quot;On&quot;) { autolevel.setBit(7, true); } if (this.ui.head_select.val() === &quot;Autopilot&quot;) { autolevel.setBit(8, true); } if (this.ui.headingtype_select.val() === &quot;On&quot;) { autolevel.setBit(9, true); } if (this.ui.flap_select.val() === &quot;Autopilot&quot;) { autolevel.setBit(11, true); } else if (this.ui.flap_select.val() === &quot;Ground Station&quot;) { autolevel.setBit(10, true); } return autolevel.decimal_value; }, fullRC: function () { this.ui.flap_select.val('Controller'); this.ui.throttle_select.val('Controller'); this.ui.alt_select.val('Ground Station'); this.ui.head_select.val('Ground Station'); this.ui.roll_select.val('Controller'); this.ui.pitch_select.val('Controller'); this.ui.pitchtype_select.val('Rate'); this.ui.rolltype_select.val('Rate'); this.ui.headingtype_select.val('Off'); this.ui.alttype_select.val('Off'); this.sendAll(); }, fullAuto: function () { //full autopilot and groundstation (defaults to angle) this.ui.flap_select.val('Autopilot'); this.ui.throttle_select.val('Autopilot'); this.ui.alt_select.val('Autopilot'); this.ui.head_select.val('Autopilot'); this.ui.roll_select.val('Ground Station'); this.ui.pitch_select.val('Ground Station'); this.ui.pitchtype_select.val('Angle'); this.ui.rolltype_select.val('Angle'); this.ui.headingtype_select.val('On'); this.ui.alttype_select.val('On'); this.sendAll(); }, fullGround: function () { this.ui.flap_select.val('Ground Station'); this.ui.throttle_select.val('Ground Station'); this.ui.alt_select.val('Ground Station'); this.ui.head_select.val('Ground Station'); this.ui.roll_select.val('Ground Station'); this.ui.pitch_select.val('Ground Station'); this.ui.pitchtype_select.val('Angle'); this.ui.rolltype_select.val('Angle'); this.ui.headingtype_select.val('On'); this.ui.alttype_select.val('On'); this.sendAll(); }, gcRollRate: function () { //TODO for serge in the future: rename this appropriately this.ui.flap_select.val('Ground Station'); this.ui.throttle_select.val('Ground Station'); this.ui.alt_select.val('Ground Station'); this.ui.head_select.val('Ground Station'); this.ui.roll_select.val('Ground Station'); this.ui.pitch_select.val('Ground Station'); this.ui.pitchtype_select.val('Angle'); this.ui.rolltype_select.val('Angle'); this.ui.headingtype_select.val('Off'); this.ui.alttype_select.val('Off'); this.sendAll(); }, gcHeading: function () { this.ui.flap_select.val('Ground Station'); this.ui.throttle_select.val('Ground Station'); this.ui.alt_select.val('Ground Station'); this.ui.head_select.val('Ground Station'); this.ui.roll_select.val('Ground Station'); this.ui.pitch_select.val('Ground Station'); this.ui.pitchtype_select.val('Angle'); this.ui.rolltype_select.val('Angle'); this.ui.headingtype_select.val('On'); this.ui.alttype_select.val('On'); this.sendAll(); }, pathFollowing: function () { this.ui.flap_select.val('Ground Station'); this.ui.throttle_select.val('Ground Station'); this.ui.alt_select.val('Ground Station'); this.ui.head_select.val('Autopilot'); this.ui.roll_select.val('Ground Station'); this.ui.pitch_select.val('Ground Station'); this.ui.pitchtype_select.val('Angle'); this.ui.rolltype_select.val('Angle'); this.ui.headingtype_select.val('On'); this.ui.alttype_select.val('On'); this.sendAll(); } }); }; × Search results Close "},"views_CockpitLayoutView.js.html":{"id":"views_CockpitLayoutView.js.html","title":"Source: views/CockpitLayoutView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/CockpitLayoutView.js /** * @author Serge Babayan * @module views/CockpitLayoutView * @requires util/Template * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description A layout view that includes the AttitudeView, AltitudeView, and ThrottleView */ var Template = require('../util/Template'); module.exports = function (Marionette) { var AttitudeView = require('./AttitudeView')(Marionette); var AltitudeView = require('./AltitudeView')(Marionette); var ThrottleView = require('./ThrottleView')(Marionette); return Marionette.LayoutView.extend({ template: Template('CockpitLayoutView'), className: 'cockpitLayoutView', regions: { attitude_region: '.attitude-region', altitude_region: '.altitude-region', throttle_region: '.throttle-region' }, initialize: function () { }, onRender: function () { this.getRegion('attitude_region').show(new AttitudeView()); this.getRegion('altitude_region').show(new AltitudeView()); this.getRegion('throttle_region').show(new ThrottleView()); }, onBeforeDestroy: function () { //TODO: should call destroy on the item views here } }); }; × Search results Close "},"views_ConsoleView.js.html":{"id":"views_ConsoleView.js.html","title":"Source: views/ConsoleView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/ConsoleView.js /** * @author Serge Babayan * @module views/ConsoleView * @requires models/Commands * @requires util/Logger * @requires util/Template * @requires electron * @requires config/advanced-config * @listens util/Logger~Logger:info * @listens util/Logger~Logger:debug * @listens util/Logger~Logger:data * @listens util/Logger~Logger:error-log * @listens util/Logger~Logger:warn * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Listens to the logger module and displays the messages in a console like view */ var remote = require('electron').remote; var Template = require('../util/Template'); var Logger = remote.require('./app/util/Logger'); var Commands = remote.require('./app/models/Commands'); var advanced_config = remote.require('./config/advanced-config'); module.exports = function (Marionette) { return Marionette.ItemView.extend({ template: Template('ConsoleView'), ui: { console: &quot;#console&quot;, command_input: &quot;#commands-input&quot;, info_toggle: &quot;#console-info-toggle&quot;, debug_toggle: &quot;#console-debug-toggle&quot;, error_toggle: &quot;#console-error-toggle&quot;, warn_toggle: &quot;#console-warn-toggle&quot;, data_toggle: &quot;#console-data-toggle&quot; }, events: { 'click #scroll-bottom-button': 'enableScrollBottom', 'submit #commands-input-form': 'sendCommand', 'keyup #commands-input': 'cycleCommandHistory', 'change #console-info-toggle': 'toggleInfoMessages', 'change #console-debug-toggle': 'toggleDebugMessages', 'change #console-error-toggle': 'toggleErrorMessages', 'change #console-warn-toggle': 'toggleWarnMessages', 'change #console-data-toggle': 'toggleDataMessages' }, className: 'consoleView', initialize: function () { this.scroll_bottom = true; //whether the console will scroll down upon new message arrival this.command_history = []; this.command_history_index = 0; this.max_console_messages = advanced_config.get('max_console_messages'); this.all_displayed_messages = []; //whats kinds of messages we want displayed in the console this.infoMessages = false; this.debugMessages = false; this.errorMessages = false; this.warnMessages = false; this.dataMessages = false; this.logger_callbacks = {}; //we need to keep a reference to the add message callbacks so that we can properly remove off the logger listener }, onRender: function () { //Turns on the logger listeners this.toggleInfoMessages(); this.toggleDebugMessages(); this.toggleErrorMessages(); this.toggleWarnMessages(); this.toggleDataMessages(); this.detectScrollUp(); }, onBeforeDestroy: function () { //Remove any logger listeners if (this.logger_callbacks['info']) { Logger.removeListener('info', this.logger_callbacks['info']); } if (this.logger_callbacks['debug']) { Logger.removeListener('debug', this.logger_callbacks['debug']); } if (this.logger_callbacks['error-log']) { Logger.removeListener('error-log', this.logger_callbacks['error-log']); } if (this.logger_callbacks['warn']) { Logger.removeListener('warn', this.logger_callbacks['warn']); } if (this.logger_callbacks['data']) { Logger.removeListener('data', this.logger_callbacks['data']); } }, toggleInfoMessages: function () { if (this.infoMessages) { //if we should stop listening to info level messages if (this.logger_callbacks['info']) { Logger.removeListener('info', this.logger_callbacks['info']); //stop listening to info level messages from the Logger } this.infoMessages = false; } else { //if we should start listening to info level messages var callback = this.addInfoMessage.bind(this); this.logger_callbacks['info'] = callback; Logger.addListener('info', callback); //call this.addInfoMessage every time an info level message comes in this.infoMessages = true; this.scroll_bottom = true; } this.ui.info_toggle.prop('checked', this.infoMessages); }, toggleDebugMessages: function () { if (this.debugMessages) { if (this.logger_callbacks['debug']) { Logger.removeListener('debug', this.logger_callbacks['debug']); } this.debugMessages = false; } else { var callback = this.addDebugMessage.bind(this); this.logger_callbacks['debug'] = callback; Logger.addListener('debug', callback); this.debugMessages = true; this.scroll_bottom = true; } this.ui.debug_toggle.prop('checked', this.debugMessages); }, toggleErrorMessages: function () { if (this.errorMessages) { if (this.logger_callbacks['error-log']) { Logger.removeListener('error-log', this.logger_callbacks['error-log']); } this.errorMessages = false; } else { var callback = this.addErrorMessage.bind(this); this.logger_callbacks['error-log'] = callback; Logger.addListener('error-log', callback); this.errorMessages = true; this.scroll_bottom = true; } this.ui.error_toggle.prop('checked', this.errorMessages); }, toggleWarnMessages: function () { if (this.warnMessages) { if (this.logger_callbacks['warn']) { Logger.removeListener('warn', this.logger_callbacks['warn']); } this.warnMessages = false; } else { var callback = this.addWarnMessage.bind(this); this.logger_callbacks['warn'] = callback; Logger.addListener('warn', callback); this.warnMessages = true; this.scroll_bottom = true; } this.ui.warn_toggle.prop('checked', this.warnMessages); }, toggleDataMessages: function () { if (this.dataMessages) { if (this.logger_callbacks['data']) { Logger.removeListener('data', this.logger_callbacks['data']); } this.dataMessages = false; } else { var callback = this.addDataMessage.bind(this); this.logger_callbacks['data'] = callback; Logger.addListener('data', callback); this.dataMessages = true; this.scroll_bottom = true; } this.ui.data_toggle.prop('checked', this.dataMessages); }, addInfoMessage: function (time, text) { this.all_displayed_messages.push(this.ui.console.append('&lt;p class=&quot;message info-message&quot;&gt;&lt;time&gt;' + time + '&lt;/time&gt;' + text + '&lt;/p&gt;').children('*:last-child')); this.scrollToBottom(); this.checkMaxConsoleMessages(); }, addDebugMessage: function (time, text) { this.all_displayed_messages.push(this.ui.console.append('&lt;p class=&quot;message debug-message&quot;&gt;&lt;time&gt;' + time + '&lt;/time&gt;' + text + '&lt;/p&gt;').children('*:last-child')); this.scrollToBottom(); this.checkMaxConsoleMessages(); }, addErrorMessage: function (time, text) { this.all_displayed_messages.push(this.ui.console.append('&lt;p class=&quot;message error-message&quot;&gt;&lt;time&gt;' + time + '&lt;/time&gt;' + text + '&lt;/p&gt;').children('*:last-child')); this.scrollToBottom(); this.checkMaxConsoleMessages(); }, addWarnMessage: function (time, text) { this.all_displayed_messages.push(this.ui.console.append('&lt;p class=&quot;message warn-message&quot;&gt;&lt;time&gt;' + time + '&lt;/time&gt;' + text + '&lt;/p&gt;').children('*:last-child')); this.scrollToBottom(); this.checkMaxConsoleMessages(); }, addDataMessage: function (time, text) { this.all_displayed_messages.push(this.ui.console.append('&lt;p class=&quot;message data-message&quot;&gt;&lt;time&gt;' + time + '&lt;/time&gt;' + text + '&lt;/p&gt;').children('*:last-child')); this.scrollToBottom(); this.checkMaxConsoleMessages(); }, sendCommand: function (e) { if (e) e.preventDefault(); var command = this.ui.command_input.val(); if (command &amp;&amp; command.trim()) { Commands.sendRawCommand(command.trim()); this.ui.command_input.val(''); this.command_history.push(command.trim()); this.command_history_index = 0; } }, cycleCommandHistory: function (e) { if (e.keyCode === 38) { //keyup this.ui.command_input.val(this.command_history[this.command_history.length - 1 - this.command_history_index]); this.command_history.length - 1 - this.command_history_index &gt; 0 ? this.command_history_index++ : this.command_history_index; } else if (e.keyCode === 40) { //keydown this.ui.command_input.val(this.command_history[this.command_history.length - 1 - this.command_history_index]); this.command_history_index &gt; 0 ? this.command_history_index-- : this.command_history_index; } }, detectScrollUp: function () { //disables scrollToBottom if it detects an upward scroll var lastScrollTop = 0; var that = this; this.ui.console.scroll(function (event) { var scrolltop = event.target.scrollTop; if (scrolltop &lt; lastScrollTop) { // upscroll code that.scroll_bottom = false; } lastScrollTop = scrolltop; }); }, enableScrollBottom: function (e) { e.preventDefault(); this.scroll_bottom = true; this.scrollToBottom(); }, scrollToBottom: function () { if (this.scroll_bottom) { this.ui.console[0].scrollTop = this.ui.console[0].scrollHeight; } }, checkMaxConsoleMessages: function () { if (this.all_displayed_messages.length &gt; this.max_console_messages) { this.all_displayed_messages[0].remove(); this.all_displayed_messages.shift(); } } }); }; × Search results Close "},"views_DataEntryView.js.html":{"id":"views_DataEntryView.js.html","title":"Source: views/DataEntryView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/DataEntryView.js /** * @author Trevor Mccourt * @module views/DataEntryView * @requires util/Logger * @requires models/TelemetryData * @requires util/Template * @requires fs * @requires mkdirp * @requires path * @requires electron * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Data entry view which allows a user to export the contents of the current telemetry packet out into * a file, with an optional comment */ var remote = require('electron').remote; var Template = require('../util/Template'); var TelemetryData = remote.require('./app/models/TelemetryData'); var Logger = remote.require('./app/util/Logger'); var app_config = remote.require('./config/application-config'); var fs = require('fs'); var mkdirp = require('mkdirp'); var path = require('path'); var write_location = path.join(__dirname, '../../' + app_config.get('log_dir') + &quot;data_entries/&quot;); //create the data entry directory if it doesnt yet exist mkdirp.sync(write_location); module.exports = function (Marionette) { return Marionette.ItemView.extend({ template: Template('DataEntryView'), className: 'gainsAdjustView', ui: { name_field: &quot;#fileName&quot;, comment_field: &quot;#comment&quot;, save_button: &quot;#saveComment&quot; }, events: { &quot;click #saveComment&quot;: &quot;saveData&quot;, }, onRender: function () { this.ui.name_field.val('Data Entry Name'); }, saveData: function (event) { var date = new Date(); var loc = write_location + this.ui.name_field.val() + &quot;_&quot; + date.toDateString() + ' ' + date.toLocaleTimeString().replace(/:/g, '-') + &quot;.txt&quot;; var content = &quot;Comment: &quot; + this.ui.comment_field.val() + &quot;\\r\\nData Stream: &quot; + JSON.stringify(TelemetryData.current_state, null, 2) + '\\r\\n'; fs.appendFile(loc, content, 'utf8', function (err) { if (err) { Logger.error('Error writing data entry to file: ' + err); } else { Logger.debug(&quot;file &quot; + this.ui.name_field.val() + &quot; written to &quot; + loc); } }.bind(this)); } }); }; × Search results Close "},"views_DataView.js.html":{"id":"views_DataView.js.html","title":"Source: views/DataView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/DataView.js /** * @author Serge Babayan * @module views/DataView * @requires models/TelemetryData * @requires util/Template * @requires electron * @listens models/TelemetryData~TelemetryData:data_received * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Displays the current data packet in the TelemetryData module in a nice form */ var remote = require('electron').remote; var Template = require('../util/Template'); var TelemetryData = remote.require('./app/models/TelemetryData'); module.exports = function (Marionette) { return Marionette.ItemView.extend({ template: Template('DataView'), //name of the file in the views folder at the project root className: 'exampleView', //this is the class name the injected div will have (refer to this class in your style sheets) ui: { data: '#data', current_date: '#current-date' }, initialize: function () { this.telemetryCallback = null; }, onRender: function () { this.telemetryCallback = this.dataCallback.bind(this); TelemetryData.on('data_received', this.telemetryCallback); }, dataCallback: function (data) { this.ui.data.text(JSON.stringify(data, null, 2)); this.ui.current_date.text(new Date()); }, onBeforeDestroy: function () { //Todo: need to destroy the callback here } }); }; × Search results Close "},"views_EmergencyButtonsView.js.html":{"id":"views_EmergencyButtonsView.js.html","title":"Source: views/EmergencyButtonsView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/EmergencyButtonsView.js /** * @author Serge Babayan * @module views/EmergencyButtonsView * @requires models/Commands * @requires util/Template * @requires electron * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Emergency button view for triggering commands to kill the plane, etc.. */ var remote = require('electron').remote; var Template = require('../util/Template'); var Commands = remote.require('./app/models/Commands'); //Note this view requires the global window object for the alert boxes (at least for now) module.exports = function (Marionette, window) { return Marionette.ItemView.extend({ template: Template('EmergencyButtonsView'), className: 'emergencyButtonsView', events: { 'click #arm-plane-button': 'armPlane', 'click #disarm-plane-button': 'disarmPlane', 'click #kill-plane-button': 'killPlane', 'click #unkill-plane-button': 'unkillPlane', 'click #drop-probe-button': 'dropProbe', 'click #go-home-button': 'returnHome', 'click #ungo-home-button': 'cancelReturnHome' }, writeMode: function () { if (window.confirm('This will convert the groundstation from READ ONLY mode to WRITE mode. Are you sure you want to do this?')) { Commands.activateWriteMode(); } }, armPlane: function () { if (window.confirm('This command arms the plane. Is everyone away from the propeller?')) { Commands.armPlane(); } }, disarmPlane: function () { Commands.disarmPlane(); }, killPlane: function () { if (window.confirm('Are you sure you want to kill the plane? This WILL crash the plane. (1/2)') &amp;&amp; window.confirm('Are you ABSOLUTELY SURE you want to do this? (2/2)')) { Commands.killPlane(); } }, unkillPlane: function () { Commands.unkillPlane(); }, returnHome: function () { Commands.returnHome(); }, cancelReturnHome: function () { Commands.cancelReturnHome(); } }); }; × Search results Close "},"views_GainsAdjustView.js.html":{"id":"views_GainsAdjustView.js.html","title":"Source: views/GainsAdjustView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/GainsAdjustView.js /** * @author Serge Babayan * @module views/GainsAdjustView * @requires util/Logger * @requires models/TelemetryData * @requires models/Commands * @requires util/Template * @requires util/Validator * @requires config/gains-config * @requires electron * @listens models/TelemetryData~TelemetryData:data_received * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description View for adjusting the aircraft's gain values */ var remote = require('electron').remote; var Template = require('../util/Template'); var TelemetryData = remote.require('./app/models/TelemetryData'); var Commands = remote.require('./app/models/Commands'); var Validator = require('../util/Validator'); var Logger = remote.require('./app/util/Logger'); var gains_config = remote.require('./config/gains-config'); module.exports = function (Marionette) { return Marionette.ItemView.extend({ template: Template('GainsAdjustView'), className: 'gainsAdjustView', ui: { yaw_kd: '#yaw-kd', yaw_ki: '#yaw-ki', yaw_kp: '#yaw-kp', pitch_kd: '#pitch-kd', pitch_ki: '#pitch-ki', pitch_kp: '#pitch-kp', roll_kd: '#roll-kd', roll_ki: '#roll-ki', roll_kp: '#roll-kp', heading_kd: '#heading-kd', heading_ki: '#heading-ki', heading_kp: '#heading-kp', altitude_kd: '#altitude-kd', altitude_ki: '#altitude-ki', altitude_kp: '#altitude-kp', throttle_kd: '#throttle-kd', throttle_ki: '#throttle-ki', throttle_kp: '#throttle-kp', flap_kd: '#flap-kd', flap_ki: '#flap-ki', flap_kp: '#flap-kp', orbit_kp: '#orbit-kp', path_kp: '#path-kp', send_all: '#send-all-gains-button', reset_all: '#reset-default-gains-button', yaw_send_button: '#send-yaw-gain-button', pitch_send_button: '#send-pitch-gain-button', roll_send_button: '#send-roll-gain-button', heading_send_button: '#send-heading-gain-button', altitude_send_button: '#send-altitude-gain-button', throttle_send_button: '#send-throttle-gain-button', flap_send_button: '#send-flap-gain-button', path_send_button: '#send-path-gain-button', orbit_send_button: '#send-orbit-gain-button' }, events: { 'click #send-all-gains-button': 'sendAllGains', 'click #save-all-gains-button': 'saveChanges', 'click #discard-all-gains-button': 'discardChanges', 'click #reset-default-gains-button': 'resetToDefault', 'click #send-yaw-gain-button': 'sendYawGains', 'click #send-pitch-gain-button': 'sendPitchGains', 'click #send-roll-gain-button': 'sendRollGains', 'click #send-heading-gain-button': 'sendHeadingGains', 'click #send-altitude-gain-button': 'sendAltitudeGains', 'click #send-throttle-gain-button': 'sendThrottleGains', 'click #send-flap-gain-button': 'sendFlapGains', 'click #send-orbit-gain-button': 'sendOrbitalGains', 'click #send-path-gain-button': 'sendPathGains', 'submit .yaw-form': 'sendYawGains', 'submit .pitch-form': 'sendPitchGains', 'submit .roll-form': 'sendRollGains', 'submit .heading-form': 'sendHeadingGains', 'submit .altitude-form': 'sendAltitudeGains', 'submit .throttle-form': 'sendThrottleGains', 'submit .flap-form': 'sendFlapGains', 'submit .orbit-form': 'sendOrbitalGains', 'submit .path-form': 'sendPathGains' }, initialize: function () { this.needs_verifying = { yaw: { status: false, ki: 0, kp: 0, kd: 0 }, pitch: { status: false, ki: 0, kp: 0, kd: 0 }, roll: { status: false, ki: 0, kp: 0, kd: 0 }, heading: { status: false, ki: 0, kp: 0, kd: 0 }, flap: { status: false, ki: 0, kp: 0, kd: 0 }, orbit: { status: false, ki: 0, kp: 0, kd: 0 }, path: { status: false, ki: 0, kp: 0, kd: 0 }, throttle: { status: false, ki: 0, kp: 0, kd: 0 }, altitude: { status: false, ki: 0, kp: 0, kd: 0 } }; this.data_callback = null; }, onRender: function () { this.data_callback = this.dataCallback.bind(this); TelemetryData.addListener('data_received', this.data_callback); this.discardChanges(); //fills in the values from the settings }, onBeforeDestroy: function () { TelemetryData.removeListener('data_received', this.data_callback); }, //compares two values of gains with up to 3 decimal places of percision compareGains: function (gain1, gain2) { gain1 = Number(gain1); gain2 = Number(gain2); return gain1.toFixed(3) === gain2.toFixed(3); }, dataCallback: function (data) { if (this.needs_verifying.yaw.status) { if (this.compareGains(data.yaw_kp, this.needs_verifying.yaw.kp) &amp;&amp; this.compareGains(data.yaw_ki, this.needs_verifying.yaw.ki) &amp;&amp; this.compareGains(data.yaw_kd, this.needs_verifying.yaw.kd)) { this.needs_verifying.yaw.status = false; Logger.info('[Gains Adjust] Yaw gain successfully verified!'); this.ui.yaw_send_button.text('Send'); } } if (this.needs_verifying.pitch.status) { if (this.compareGains(data.pitch_kp, this.needs_verifying.pitch.kp) &amp;&amp; this.compareGains(data.pitch_ki, this.needs_verifying.pitch.ki) &amp;&amp; this.compareGains(data.pitch_kd, this.needs_verifying.pitch.kd)) { this.needs_verifying.pitch.status = false; Logger.info('[Gains Adjust] Pitch gain successfully verified!'); this.ui.pitch_send_button.text('Send'); } } if (this.needs_verifying.roll.status) { if (this.compareGains(data.roll_kp, this.needs_verifying.roll.kp) &amp;&amp; this.compareGains(data.roll_ki, this.needs_verifying.roll.ki) &amp;&amp; this.compareGains(data.roll_kd, this.needs_verifying.roll.kd)) { this.needs_verifying.roll.status = false; Logger.info('[Gains Adjust] Roll gain successfully verified!'); this.ui.roll_send_button.text('Send'); } } if (this.needs_verifying.heading.status) { if (this.compareGains(data.heading_kp, this.needs_verifying.heading.kp) &amp;&amp; this.compareGains(data.heading_ki, this.needs_verifying.heading.ki) &amp;&amp; this.compareGains(data.heading_kd, this.needs_verifying.heading.kd)) { this.needs_verifying.heading.status = false; Logger.info('[Gains Adjust] Heading gain successfully verified!'); this.ui.heading_send_button.text('Send'); } } if (this.needs_verifying.flap.status) { if (this.compareGains(data.flap_kp, this.needs_verifying.flap.kp) &amp;&amp; this.compareGains(data.flap_ki, this.needs_verifying.flap.ki) &amp;&amp; this.compareGains(data.flap_kd, this.needs_verifying.flap.kd)) { this.needs_verifying.flap.status = false; Logger.info('[Gains Adjust] Flap gain successfully verified!'); this.ui.flap_send_button.text('Send'); } } if (this.needs_verifying.orbit.status) { if (this.compareGains(data.orbit_gain, this.needs_verifying.orbit.kp)) { this.needs_verifying.orbit.status = false; Logger.info('[Gains Adjust] Orbit gain successfully verified!'); this.ui.orbit_send_button.text('Send'); } } if (this.needs_verifying.throttle.status) { if (this.compareGains(data.throttle_kp, this.needs_verifying.throttle.kp) &amp;&amp; this.compareGains(data.throttle_ki, this.needs_verifying.throttle.ki) &amp;&amp; this.compareGains(data.throttle_kd, this.needs_verifying.throttle.kd)) { this.needs_verifying.throttle.status = false; Logger.info('[Gains Adjust] Throttle gain successfully verified!'); this.ui.throttle_send_button.text('Send'); } } if (this.needs_verifying.altitude.status) { if (this.compareGains(data.altitude_kp, this.needs_verifying.altitude.kp) &amp;&amp; this.compareGains(data.altitude_ki, this.needs_verifying.altitude.ki) &amp;&amp; this.compareGains(data.altitude_kd, this.needs_verifying.altitude.kd)) { this.needs_verifying.altitude.status = false; Logger.info('[Gains Adjust] Altitude gain successfully verified!'); this.ui.altitude_send_button.text('Send'); } } if (this.needs_verifying.path.status) { if (this.compareGains(data.path_gain, this.needs_verifying.path.kp)) { this.needs_verifying.path.status = false; Logger.info('[Gains Adjust] Path gain successfully verified!'); this.ui.path_send_button.text('Send'); } } }, sendYawGains: function (e) { if (e) { e.preventDefault(); } var ki = Number(this.ui.yaw_ki.val()); var kd = Number(this.ui.yaw_kd.val()); var kp = Number(this.ui.yaw_kp.val()); Commands.sendKPGain('yaw', kp); Commands.sendKIGain('yaw', ki); Commands.sendKDGain('yaw', kd); this.needs_verifying.yaw = { status: true, ki: ki, kd: kd, kp: kp }; this.ui.yaw_send_button.text('Verifying...'); }, sendPitchGains: function (e) { if (e) { e.preventDefault(); } var ki = Number(this.ui.pitch_ki.val()); var kd = Number(this.ui.pitch_kd.val()); var kp = Number(this.ui.pitch_kp.val()); Commands.sendKPGain('pitch', kp); Commands.sendKIGain('pitch', ki); Commands.sendKDGain('pitch', kd); this.needs_verifying.pitch = { status: true, ki: ki, kd: kd, kp: kp }; this.ui.pitch_send_button.text('Verifying...'); }, sendRollGains: function (e) { if (e) { e.preventDefault(); } var ki = Number(this.ui.roll_ki.val()); var kd = Number(this.ui.roll_kd.val()); var kp = Number(this.ui.roll_kp.val()); Commands.sendKPGain('roll', kp); Commands.sendKIGain('roll', ki); Commands.sendKDGain('roll', kd); this.needs_verifying.roll = { status: true, ki: ki, kd: kd, kp: kp }; console.log(this.needs_verifying); this.ui.roll_send_button.text('Verifying...'); }, sendHeadingGains: function (e) { if (e) { e.preventDefault(); } var ki = Number(this.ui.heading_ki.val()); var kd = Number(this.ui.heading_kd.val()); var kp = Number(this.ui.heading_kp.val()); Commands.sendKPGain('heading', kp); Commands.sendKIGain('heading', ki); Commands.sendKDGain('heading', kd); this.needs_verifying.heading = { status: true, ki: ki, kd: kd, kp: kp }; this.ui.heading_send_button.text('Verifying...'); }, sendAltitudeGains: function (e) { if (e) { e.preventDefault(); } var ki = Number(this.ui.altitude_ki.val()); var kd = Number(this.ui.altitude_kd.val()); var kp = Number(this.ui.altitude_kp.val()); Commands.sendKPGain('altitude', kp); Commands.sendKIGain('altitude', ki); Commands.sendKDGain('altitude', kd); this.needs_verifying.altitude = { status: true, ki: ki, kd: kd, kp: kp }; this.ui.altitude_send_button.text('Verifying...'); }, sendThrottleGains: function (e) { if (e) { e.preventDefault(); } var ki = Number(this.ui.throttle_ki.val()); var kd = Number(this.ui.throttle_kd.val()); var kp = Number(this.ui.throttle_kp.val()); Commands.sendKPGain('throttle', kp); Commands.sendKIGain('throttle', ki); Commands.sendKDGain('throttle', kd); this.needs_verifying.throttle = { status: true, ki: ki, kd: kd, kp: kp }; this.ui.throttle_send_button.text('Verifying...'); }, sendFlapGains: function (e) { if (e) { e.preventDefault(); } var ki = Number(this.ui.flap_ki.val()); var kd = Number(this.ui.flap_kd.val()); var kp = Number(this.ui.flap_kp.val()); Commands.sendKPGain('flap', kp); Commands.sendKIGain('flap', ki); Commands.sendKDGain('flap', kd); this.needs_verifying.flap = { status: true, ki: ki, kd: kd, kp: kp }; this.ui.flap_send_button.text('Verifying...'); }, sendOrbitalGains: function (e) { if (e) { e.preventDefault(); } var kp = Number(this.ui.orbit_kp.val()); Commands.sendOrbitGain(kp); this.needs_verifying.orbit = { status: true, kp: kp }; this.ui.orbit_send_button.text('Verifying...'); }, sendPathGains: function (e) { if (e) { e.preventDefault(); } var kp = Number(this.ui.path_kp.val()); Commands.sendPathGain(kp); this.needs_verifying.path = { status: true, kp: kp }; this.ui.path_send_button.text('Verifying...'); }, sendAllGains: function () { this.sendYawGains(); this.sendPitchGains(); this.sendRollGains(); this.sendHeadingGains(); this.sendAltitudeGains(); this.sendThrottleGains(); this.sendFlapGains(); this.sendOrbitalGains(); this.sendPathGains(); }, //saves the gain if its a valid number checkAndSaveGain: function (id, value) { if (Validator.isValidNumber(value)) { gains_config.set(id, Number(value)); } else { Logger.error('Did not save ' + id + ' gain as its not a valid number'); } }, saveChanges: function () { this.checkAndSaveGain('yaw_kd', this.ui.yaw_kd.val()); this.checkAndSaveGain('yaw_ki', this.ui.yaw_ki.val()); this.checkAndSaveGain('yaw_kp', this.ui.yaw_kp.val()); this.checkAndSaveGain('pitch_kd', this.ui.pitch_kd.val()); this.checkAndSaveGain('pitch_ki', this.ui.pitch_ki.val()); this.checkAndSaveGain('pitch_kp', this.ui.pitch_kp.val()); this.checkAndSaveGain('roll_kd', this.ui.roll_kd.val()); this.checkAndSaveGain('roll_ki', this.ui.roll_ki.val()); this.checkAndSaveGain('roll_kp', this.ui.roll_kp.val()); this.checkAndSaveGain('heading_kd', this.ui.heading_kd.val()); this.checkAndSaveGain('heading_ki', this.ui.heading_ki.val()); this.checkAndSaveGain('heading_kp', this.ui.heading_kp.val()); this.checkAndSaveGain('altitude_kd', this.ui.altitude_kd.val()); this.checkAndSaveGain('altitude_ki', this.ui.altitude_ki.val()); this.checkAndSaveGain('altitude_kp', this.ui.altitude_kp.val()); this.checkAndSaveGain('throttle_kd', this.ui.throttle_kd.val()); this.checkAndSaveGain('throttle_ki', this.ui.throttle_ki.val()); this.checkAndSaveGain('throttle_kp', this.ui.throttle_kp.val()); this.checkAndSaveGain('flap_kd', this.ui.flap_kd.val()); this.checkAndSaveGain('flap_ki', this.ui.flap_ki.val()); this.checkAndSaveGain('flap_kp', this.ui.flap_kp.val()); this.checkAndSaveGain('orbit_kp', this.ui.orbit_kp.val()); this.checkAndSaveGain('path_kp', this.ui.path_kp.val()); }, discardChanges: function () { this.ui.yaw_kd.val(gains_config.get('yaw_kd')); this.ui.yaw_ki.val(gains_config.get('yaw_ki')); this.ui.yaw_kp.val(gains_config.get('yaw_kp')); this.ui.pitch_kd.val(gains_config.get('pitch_kd')); this.ui.pitch_ki.val(gains_config.get('pitch_ki')); this.ui.pitch_kp.val(gains_config.get('pitch_kp')); this.ui.roll_kd.val(gains_config.get('roll_kd')); this.ui.roll_ki.val(gains_config.get('roll_ki')); this.ui.roll_kp.val(gains_config.get('roll_kp')); this.ui.heading_kd.val(gains_config.get('heading_kd')); this.ui.heading_ki.val(gains_config.get('heading_ki')); this.ui.heading_kp.val(gains_config.get('heading_kp')); this.ui.altitude_kd.val(gains_config.get('altitude_kd')); this.ui.altitude_ki.val(gains_config.get('altitude_ki')); this.ui.altitude_kp.val(gains_config.get('altitude_kp')); this.ui.throttle_kd.val(gains_config.get('throttle_kd')); this.ui.throttle_ki.val(gains_config.get('throttle_ki')); this.ui.throttle_kp.val(gains_config.get('throttle_kp')); this.ui.flap_kd.val(gains_config.get('flap_kd')); this.ui.flap_ki.val(gains_config.get('flap_ki')); this.ui.flap_kp.val(gains_config.get('flap_kp')); this.ui.orbit_kp.val(gains_config.get('orbit_kp')); this.ui.path_kp.val(gains_config.get('path_kp')); }, resetToDefault: function () { this.ui.yaw_kd.val(gains_config.default_settings['yaw_kd']); this.ui.yaw_ki.val(gains_config.default_settings['yaw_ki']); this.ui.yaw_kp.val(gains_config.default_settings['yaw_kp']); this.ui.pitch_kd.val(gains_config.default_settings['pitch_kd']); this.ui.pitch_ki.val(gains_config.default_settings['pitch_ki']); this.ui.pitch_kp.val(gains_config.default_settings['pitch_kp']); this.ui.roll_kd.val(gains_config.default_settings['roll_kd']); this.ui.roll_ki.val(gains_config.default_settings['roll_ki']); this.ui.roll_kp.val(gains_config.default_settings['roll_kp']); this.ui.heading_kd.val(gains_config.default_settings['heading_kd']); this.ui.heading_ki.val(gains_config.default_settings['heading_ki']); this.ui.heading_kp.val(gains_config.default_settings['heading_kp']); this.ui.altitude_kd.val(gains_config.default_settings['altitude_kd']); this.ui.altitude_ki.val(gains_config.default_settings['altitude_ki']); this.ui.altitude_kp.val(gains_config.default_settings['altitude_kp']); this.ui.throttle_kd.val(gains_config.default_settings['throttle_kd']); this.ui.throttle_ki.val(gains_config.default_settings['throttle_ki']); this.ui.throttle_kp.val(gains_config.default_settings['throttle_kp']); this.ui.flap_kd.val(gains_config.default_settings['flap_kd']); this.ui.flap_ki.val(gains_config.default_settings['flap_ki']); this.ui.flap_kp.val(gains_config.default_settings['flap_kp']); this.ui.orbit_kp.val(gains_config.default_settings['orbit_kp']); this.ui.path_kp.val(gains_config.default_settings['path_kp']); this.saveChanges(); } }); }; × Search results Close "},"views_MainLayoutView.js.html":{"id":"views_MainLayoutView.js.html","title":"Source: views/MainLayoutView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/MainLayoutView.js /** * @author Serge Babayan * @module views/MainLayoutView * @requires util/Template * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description A layout view that includes the CockpitLayoutView, ConsoleView, StatusView, MapView and EmergencyButtonsView */ var Template = require('../util/Template'); module.exports = function (Marionette, $, L, window) { var ConsoleView = require('./ConsoleView')(Marionette); var StatusView = require('./StatusView')(Marionette, $); var CockpitLayoutView = require('./CockpitLayoutView')(Marionette); var MapView = require('./MapView')(Marionette, L, $); var EmergencyButtonsView = require('./EmergencyButtonsView')(Marionette, window); return Marionette.LayoutView.extend({ template: Template('MainLayoutView'), className: 'mainLayoutView', regions: { console: &quot;#console-region&quot;, status: &quot;#status-region&quot;, map: &quot;#right-region&quot;, telemetry: &quot;#top-left-region&quot;, buttons: &quot;#emergency-button-region&quot; }, onRender: function () { this.getRegion('console').show(new ConsoleView()); this.getRegion('status').show(new StatusView()); this.getRegion('telemetry').show(new CockpitLayoutView()); this.getRegion('map').show(new MapView()); this.getRegion('buttons').show(new EmergencyButtonsView()); }, onDestroy: function () { //TODO: need to call the destroy events of the item views } }); }; × Search results Close "},"views_MapView.js.html":{"id":"views_MapView.js.html","title":"Source: views/MapView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/MapView.js /** * @author Serge Babayan * @module views/MapView * @requires models/Commands * @requires util/Validator * @requires util/Logger * @requires models/TelemetryData * @requires models/PathManager * @requires models/AircraftStatus * @requires Map * @requires util/Template * @requires electron * @listens models/TelemetryData~TelemetryData:data_received * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description View for the groundstation map */ var remote = require('electron').remote; var Template = require('../util/Template'); var Map = require('../Map'); var TelemetryData = remote.require('./app/models/TelemetryData'); var Validator = require('../util/Validator'); var Logger = remote.require('./app/util/Logger'); var PathManager = remote.require('./app/map/PathManager'); var AircraftStatus = remote.require('./app/AircraftStatus'); var Commands = remote.require('./app/models/Commands'); module.exports = function (Marionette, L, $) { return Marionette.ItemView.extend({ template: Template('MapView'), className: 'mapView', ui: { map: '#leaflet-map', plane_location_lat: '.plane-latitude', plane_location_lon: '.plane-longitude', path_verified: '#path-verified', start_following_button: '#start-following-button', new_target_waypoint: '#new-follow-index input', remote_waypoint_index: '#remote-waypoint-index', marker_lat: '#marker-lat', marker_lon: '#marker-lon' }, events: { 'click #clear-plane-trail-button': 'clearPlaneTrail', 'click #add-waypoint-button': 'addWaypointToggle', 'click #delete-waypoint-button': 'deleteWaypointToggle', 'click #send-path-button': 'sendPath', 'submit .waypointPopupForm': 'clickedWaypointPopupSubmit', 'click #start-following-button': 'togglePathFollowing', 'click #clear-path-button': 'clearPath', 'submit #new-follow-index': 'followNewWaypoint', 'click #new-marker-button': 'addNewMarker' }, initialize: function () { this.map = new Map(L); this.add_waypoint_mode = false; this.delete_waypoint_mode = false; }, onRender: function () { TelemetryData.addListener('data_received', function (data) { if (Validator.isValidLatitude(data.lat) &amp;&amp; Validator.isValidLongitude(data.lon)) { if (Validator.isValidHeading(data.heading)) { this.map.movePlane(data.lat, data.lon, data.heading); } this.map.expandPlaneTrail(data.lat, data.lon); this.setLatitudeLongitude(data.lat, data.lon); } if (Validator.isValidNumber(data.path_checksum)) { PathManager.remote_path_checksum = Number(data.path_checksum); if (Number(data.path_checksum).toFixed(4) === PathManager.current_path_checksum.toFixed(4)) { this.ui.path_verified.text('Yes'); PathManager.setSynced(); } else { this.ui.path_verified.text('No. A: ' + Number(data.path_checksum).toFixed(4) + ', L: ' + PathManager.current_path_checksum.toFixed(4)); } } else { Logger.warn('Invalid value for path_checksum received. Value: ' + data.path_checksum); } if (AircraftStatus.following_path) { this.ui.start_following_button.text('Stop Following'); } else { this.ui.start_following_button.text('Start Following'); } if (Validator.isValidNumber(data.waypoint_count)) { PathManager.remote_waypoint_count = Number(data.waypoint_count); } if (Validator.isValidNumber(data.waypoint_index)) { PathManager.remote_waypoint_index = Number(data.waypoint_index); this.ui.remote_waypoint_index.text(data.waypoint_index); } }.bind(this)); this.ui.map.ready(function () { this.map.createMap('leaflet-map'); }.bind(this)); this.ui.map.resize(function () { this.map.resize(); }.bind(this)); }, onBeforeDestroy: function () { }, setLatitudeLongitude: function (lat, lon) { if (Validator.isValidLatitude(lat) &amp;&amp; Validator.isValidLongitude(lon)) { this.ui.plane_location_lat.text(Number(lat).toFixed(5)); this.ui.plane_location_lon.text(Number(lon).toFixed(5)); } else { Logger.warn('Invalid longitude or latitude received! Latitude: ' + lat + ' Longitude: ' + lon); this.ui.plane_location_lat.text('Invalid'); this.ui.plane_location_lon.text('Invalid'); } }, sendPath: function () { PathManager.sendPath(); }, clearPath: function () { PathManager.clearPath(); }, followNewWaypoint: function (e) { e.preventDefault(); Commands.setTargetWaypoint(Number(this.ui.new_target_waypoint.val())); this.ui.new_target_waypoint.val(''); }, clearPlaneTrail: function (e) { this.map.clearPlaneTrail(); }, addWaypointToggle: function (e) { this.map.addWaypointMode(!this.add_waypoint_mode); this.add_waypoint_mode = !this.add_waypoint_mode; }, deleteWaypointToggle: function (e) { this.map.deleteWaypointMode(!this.delete_waypoint_mode); this.delete_waypoint_mode = !this.delete_waypoint_mode; }, clickedWaypointPopupSubmit: function (e) { e.preventDefault(); this.map.popupSubmitted(Number($('.waypoint-altitude').val()), Number($('.waypoint-radius').val()), $('.is-probe').is(&quot;:checked&quot;)); }, togglePathFollowing: function () { if (AircraftStatus.following_path) { //if the plane is currently following a path Commands.followPath(false); } else { Commands.followPath(true); } }, addNewMarker: function (e) { var marker_lat = Number(this.ui.marker_lat.val()); var marker_lon = Number(this.ui.marker_lon.val()); this.map.addMarker(marker_lat, marker_lon); } }); }; × Search results Close "},"views_NetworkSettingsView.js.html":{"id":"views_NetworkSettingsView.js.html","title":"Source: views/NetworkSettingsView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/NetworkSettingsView.js /** * @author Serge Babayan * @module views/NetworkSettingsView * @requires util/Template * @requires views/ParentSettingsView * @requires config/network-config * @requires connections/DataRelay * @requires electron * @extends views/ParentSettingsView * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Responsible for displaying configurable settings for the data relay connection */ var remote = require('electron').remote; var Template = require('../util/Template'); var ParentSettingsView = require('./ParentSettingsView'); var network_config = remote.require('./config/network-config'); var DataRelay = remote.require('./app/connections/DataRelay'); module.exports = function (Marionette, $) { return ParentSettingsView(Marionette, $).extend({ template: Template('NetworkSettingsView'), ui: { app_settings: '.app-settings', save_button: '.save-button', discard_button: '.discard-button', error_message: '.error-message-box' }, events: { &quot;click .save-button&quot;: 'saveSettings', &quot;click .discard-button&quot;: 'discardChanges', &quot;click .reset-default-button&quot;: 'resetSettingsToDefault', &quot;change .app-settings input&quot;: 'enableSaveDiscardButton', &quot;click .reconnect-all-button&quot;: 'reconnectAll' }, onRender: function () { this.addSettings(network_config); }, reconnectAll: function () { DataRelay.init(); //restart the data relay connection } }); }; × Search results Close "},"views_ParentSettingsView.js.html":{"id":"views_ParentSettingsView.js.html","title":"Source: views/ParentSettingsView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/ParentSettingsView.js /** * @author Serge Babayan * @module views/ParentSettingsView * @requires util/Validator * @requires underscore * @requires electron * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Master settings view from which the AppSettingsView and NetworkSettingsView inherit off of */ var _ = require('underscore'); var Template = require('../util/Template'); var Validator = require('../util/Validator'); module.exports = function (Marionette, $) { return Marionette.ItemView.extend({ template: Template('AppSettingsView'), //you should override this className: 'settingsView', //no need to override this //you should add onto this if you have more elements ui: { app_settings: '.app-settings', save_button: '.save-button', discard_button: '.discard-button', error_message: '.error-message-box' }, //you should add onto this if you need more events events: { &quot;click .save-button&quot;: 'saveSettings', &quot;click .discard-button&quot;: 'discardChanges', &quot;click .reset-default-button&quot;: 'resetSettingsToDefault', &quot;change .app-settings input&quot;: 'enableSaveDiscardButton' }, //make sure to call the parent method if you override this initialize: function () { this.displayed_settings = {}; //stores the currently modified settings this.original_settings = {};//reference to the original imported setting files }, //you should override this and call your specific settings onRender: function () { }, //displays the setting file on screens and adds an entry to it in the this.displayed_settings object addSettings: function (settings) { this.displayed_settings[settings.file_name] = {}; this.original_settings[settings.file_name] = settings; //create a reference to the original settings for (var key in settings.default_settings) { if (settings.default_settings.hasOwnProperty(key)) { this.displayed_settings[settings.file_name][key] = null; //the reference to the displayed input box var container = $('&lt;div class=&quot;setting&quot;&gt;&lt;p&gt;' + key + '&lt;/p&gt;&lt;/div&gt;'); //create the input box and container for it var input = $('&lt;input type=&quot;text&quot;&gt;'); var setting_val = settings.get(key); if (_.isObject(setting_val)) { input.val(JSON.stringify(setting_val)); //stringify the value if its an object or array } else { input.val(setting_val); //otherwise if its a string or number just store it } container.append(input); this.ui.app_settings.append(container); this.displayed_settings[settings.file_name][key] = input; } } }, //saves the displayed settings to local storage if they are valid (ie the type of the original setting is the type of the new setting) saveSettings: function () { var saving_error = false; for (var filename in this.displayed_settings) { if (this.displayed_settings.hasOwnProperty(filename)) { //go to the setting file for (var setting_key in this.displayed_settings[filename]) { if (this.displayed_settings[filename].hasOwnProperty(setting_key)) { //go to the setting var original_value = this.original_settings[filename].default_settings[setting_key]; var new_value = this.displayed_settings[filename][setting_key].val(); if (Validator.isObject(original_value)) { //if the original value is an object or array, try to do a json.parse and store it as an object var parsed_object = null; try { parsed_object = JSON.parse(this.displayed_settings[filename][setting_key].val()); } catch (e) { this.showErrorMessage('The value for ' + setting_key + ' is not an object. Did not save the value'); saving_error = true; } if (parsed_object) { this.original_settings[filename].set(setting_key, parsed_object); } } else if (_.isNumber(original_value)) { //if the original value is a number store the new value as a number if (Validator.isValidNumber(new_value)) { var number = Number(new_value); this.original_settings[filename].set(setting_key, number); } else { this.showErrorMessage('The value for ' + setting_key + ' is not a number. Did not save the value'); saving_error = true; } } else { //otherwise just store it as a string this.original_settings[filename].set(setting_key, new_value); } } } } } if (!saving_error) { this.hideErrorMessage(); this.disableSaveDiscardButton(); } }, //discards the current displayed setting changes on the window with the ones in local storage discardChanges: function () { for (var filename in this.displayed_settings) { if (this.displayed_settings.hasOwnProperty(filename)) { //go to the setting file for (var setting_key in this.displayed_settings[filename]) { if (this.displayed_settings[filename].hasOwnProperty(setting_key)) { //go to the setting var original_setting = this.original_settings[filename].get(setting_key); //reset the display of the input box to whatever the setting is currently stored as if (_.isObject(original_setting)) { this.displayed_settings[filename][setting_key].val(JSON.stringify(original_setting)); } else { this.displayed_settings[filename][setting_key].val(original_setting); } } } } } this.disableSaveDiscardButton(); this.hideErrorMessage(); }, //reset the local storage and the displayed setting to the one that is in the original config file resetSettingsToDefault: function () { for (var filename in this.displayed_settings) { if (this.displayed_settings.hasOwnProperty(filename)) { //go to the setting file for (var setting_key in this.displayed_settings[filename]) { if (this.displayed_settings[filename].hasOwnProperty(setting_key)) { //go to the setting var original_value = this.original_settings[filename].default_settings[setting_key]; this.original_settings[filename].set(setting_key, original_value); //set the local storage value to the original //set the display to the original value if (_.isObject(original_value)) { this.displayed_settings[filename][setting_key].val(JSON.stringify(original_value)); } else { this.displayed_settings[filename][setting_key].val(original_value); } } } } } this.disableSaveDiscardButton(); }, showErrorMessage: function (message) { if (message) { this.ui.error_message.text(message); } else { this.ui.error_message.text('An error occured.'); } this.ui.error_message.show(); $('body')[0].scrollTop = 0; }, hideErrorMessage: function () { this.ui.error_message.hide(); }, enableSaveDiscardButton: function () { this.ui.save_button.prop('disabled', false); this.ui.discard_button.prop('disabled', false); }, disableSaveDiscardButton: function () { this.ui.save_button.prop('disabled', true); this.ui.discard_button.prop('disabled', true); } }); }; × Search results Close "},"views_ProbeDropView.js.html":{"id":"views_ProbeDropView.js.html","title":"Source: views/ProbeDropView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/ProbeDropView.js /** * @author Serge Babayan * @module views/ProbeDropView * @requires models/Commands * @requires util/Bitmask * @requires util/Logger * @requires models/TelemetryData * @requires util/Validator * @requires util/Template * @requires electron * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description View that allows a user to drop and reset the probes on the aircraft */ var remote = require('electron').remote; var Commands = remote.require('./app/models/Commands'); var TelemetryData = remote.require('./app/models/TelemetryData'); var Bitmask = require('../util/Bitmask'); var Logger = remote.require('./app/util/Logger'); var Validator = require('../util/Validator'); var Template = require('../util/Template'); module.exports = function (Marionette) { return Marionette.ItemView.extend({ template: Template('ProbeDropView'), className: 'exampleView', ui: { probe1_status: '#probe1-status', probe2_status: '#probe2-status', probe3_status: '#probe3-status' }, events: { 'click #drop-probe-1-button': 'dropProbe1', 'click #drop-probe-2-button': 'dropProbe2', 'click #drop-probe-3-button': 'dropProbe3', 'click #reset-probe-1-button': 'resetProbe1', 'click #reset-probe-2-button': 'resetProbe2', 'click #reset-probe-3-button': 'resetProbe3' }, initialize: function () { this.data_callback = null; }, onRender: function () { this.data_callback = this.dataCallback.bind(this); TelemetryData.on('data_received', this.data_callback); }, onBeforeDestroy: function () { }, dataCallback: function (data) { if (Validator.isValidNumber(data.probe_status)) { var status = new Bitmask(Number(data.probe_status)); this.ui.probe1_status.text(status.getBit(0) ? 'Dropped' : 'Not Dropped'); this.ui.probe2_status.text(status.getBit(1) ? 'Dropped' : 'Not Dropped'); this.ui.probe3_status.text(status.getBit(2) ? 'Dropped' : 'Not Dropped'); } else { Logger.warn('Invalid value for probe_status received. Value: ' + data.probe_status); } }, dropProbe1: function () { Commands.dropProbe(1); }, dropProbe2: function () { Commands.dropProbe(2); }, dropProbe3: function () { Commands.dropProbe(3); }, resetProbe1: function () { Commands.resetProbe(1); }, resetProbe2: function () { Commands.resetProbe(2); }, resetProbe3: function () { Commands.resetProbe(3); } }); }; × Search results Close "},"views_SimulationModeView.js.html":{"id":"views_SimulationModeView.js.html","title":"Source: views/SimulationModeView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/SimulationModeView.js /** * @author Serge Babayan * @module views/ProbeDropView * @requires SimulationManager * @requires util/Logger * @requires models/TelemetryData * @requires util/Template * @requires fast-csv * @requires electron * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description Simulation view that allows the user to select and run a simulation file at a specified speed */ var remote = require('electron').remote; var TelemetryData = remote.require('./app/models/TelemetryData'); var Logger = remote.require('./app/util/Logger'); var SimulationManager = remote.require('./app/SimulationManager'); var Template = require('../util/Template'); var dialog = remote.dialog; var csv = require('fast-csv'); module.exports = function (Marionette) { return Marionette.ItemView.extend({ template: Template('SimulationView'), className: 'simulationView', ui: { file_path: '#selected-file-path', transmission_speed: '#selected_speed', start_button: '#toggle-simulation-button', change_speed_slider: '#change-speed-slider' }, events: { 'click #toggle-simulation-button': 'toggleSimulation', 'click #select-new-file-button': 'openSimulationFile', 'change #change-speed-slider': 'changeTransmissionSpeed' }, onRender: function () { this.ui.file_path.text(SimulationManager.default_simulation_path); this.ui.transmission_speed.text(SimulationManager.transmission_frequency); if (SimulationManager.simulationActive) { this.changeToStopButton(); } else { this.changeToStartButton(); } csv.fromPath(SimulationManager.default_simulation_path, { headers: false, //Set to true if you expect the first line of your CSV to contain headers ignoreEmpty: true, //If you wish to ignore empty rows. discardUnmappedColumns: true, //If you want to discard columns that do not map to a header. delimiter: ',', trim: true, //If you want to trim all values parsed set to true. objectMode: true //if we want to return the stringified version of the data, set to false }).on('data-invalid', function () { Logger.warn('Invalid data detected in simulation file'); }).on(&quot;data&quot;, function (data) { SimulationManager.addDataEntry(data); }); }, toggleSimulation: function () { SimulationManager.toggleSimulation(); if (SimulationManager.simulationActive) { this.changeToStopButton(); } else { this.changeToStartButton(); } }, openSimulationFile: function () { dialog.showOpenDialog({ properties: ['openFile'], title: 'Select Simulation File', defaultPath: SimulationManager.default_simulation_path, buttonLabel: 'Open', filters: [ {name: 'CSV Simulation File', extensions: ['csv']}, {name: 'All Files', extensions: ['*']} ] }, function (file_path) { file_path = file_path[0]; this.ui.file_path.text(file_path); SimulationManager.clearData(); csv.fromPath(file_path, { headers: false, //Set to true if you expect the first line of your CSV to contain headers ignoreEmpty: true, //If you wish to ignore empty rows. discardUnmappedColumns: true, //If you want to discard columns that do not map to a header. delimiter: ',', trim: true, //If you want to trim all values parsed set to true. objectMode: true //if we want to return the stringified version of the data, set to false }).on(&quot;data&quot;, function (data) { SimulationManager.addDataEntry(data); }).on('data-invalid', function () { Logger.error('Invalid data detected in simulation file'); }); }.bind(this)); }, changeTransmissionSpeed: function () { SimulationManager.changeTransmissionFrequency(this.ui.change_speed_slider.val()); this.ui.transmission_speed.text(SimulationManager.transmission_frequency); }, changeToStartButton: function () { this.ui.start_button.text('Start Simulation'); this.ui.start_button.removeClass('button-error'); this.ui.start_button.addClass('button-success'); }, changeToStopButton: function () { this.ui.start_button.text('Stop Simulation'); this.ui.start_button.addClass('button-error'); this.ui.start_button.removeClass('button-success'); } }); }; × Search results Close "},"views_StatusView.js.html":{"id":"views_StatusView.js.html","title":"Source: views/StatusView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/StatusView.js /** * @author Serge Babayan * @module views/StatusView * @requires StatusManager * @requires models/TelemetryData * @requires util/Template * @requires util/Logger * @requires util/Validator * @requires electron * @requires moment * @listens models/TelemetryData~TelemetryData:data_received * @listens models/StatusManager~StatusManager:new_status * @listens models/StatusManager~StatusManager:remote_status * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description View for the status bar that listens in on events from StatusManager and TelemetryData */ var remote = require('electron').remote; var TelemetryData = remote.require('./app/models/TelemetryData'); var StatusManager = remote.require('./app/StatusManager'); var Logger = remote.require('./app/util/Logger'); var Validator = require('../util/Validator'); var Template = require('../util/Template'); var moment = require('moment'); module.exports = function (Marionette, $) { return Marionette.ItemView.extend({ template: Template('StatusView'), //name of the file in the views folder at the project root className: 'statusView', ui: { statuses: &quot;.statuses&quot;, vehicle_time: &quot;.time-view .vehicle-time&quot;, elapsed_time: &quot;.time-view .elapsed-time&quot;, battery_percent: &quot;.battery-percentage&quot;, battery_message: &quot;.battery-message&quot;, battery_picture: &quot;.battery-picture .battery-base .percentage&quot;, gps_message: &quot;.gps-status .gps-message&quot;, transmission_speed: '.transition-rate', rssi: '.rssi' }, events: { 'click #reset-elapsed-time': 'resetElapsedTime', 'click #clear-statuses-button': 'clearStatuses' }, initialize: function () { this.starting_time = null; this.current_battery_level = -1; this.current_gps_status = null; this.messagesReceived = 0;//for keeping track of the transmission rate this.transmissionInterval = null; this.data_callback = null; //so that we can get rid of the listener safely this.new_status_callback = null; this.remove_status_callback = null; this.status_messages = []; }, onRender: function () { this.data_callback = this.onDataCallback.bind(this); TelemetryData.addListener('data_received', this.data_callback); this.new_status_callback = this.onNewStatusCallback.bind(this); StatusManager.addListener('new_status', this.new_status_callback); this.remove_status_callback = this.onRemoveStatusCallback.bind(this); StatusManager.addListener('remove_status', this.remove_status_callback); this.transmissionInterval = setInterval(function () { this.ui.transmission_speed.text(this.messagesReceived + '/s'); this.messagesReceived = 0; }.bind(this), 1000); }, onBeforeDestroy: function () { TelemetryData.removeListener('data_received', this.data_callback); StatusManager.removeListener('new_status', this.new_status_callback); StatusManager.removeListener('remove_status', this.remove_status_callback); clearInterval(this.transmissionInterval); }, onDataCallback: function (data) { if (!this.starting_time &amp;&amp; Validator.isValidTime(data.time)) { time = Number(data.time).toFixed(2); this.starting_time = moment(time, 'HHmmss.SS'); } this.setTime(data.time); this.setBatteryLevel(data.battery_level1); this.setGpsLevel(data.gps_status); this.ui.rssi.text(data.RSSI); this.messagesReceived++; }, onNewStatusCallback: function (message, priority, timeout) { if (priority === 0) { var element = $('&lt;p class=&quot;status status-high red&quot;&gt;' + message + '&lt;/p&gt;'); } else if (priority === 1) { var element = $('&lt;p class=&quot;status status-high green&quot;&gt;' + message + '&lt;/p&gt;'); } else if (priority === 2) { var element = $('&lt;p class=&quot;status status-medium&quot;&gt;' + message + '&lt;/p&gt;'); } else { var element = $('&lt;p class=&quot;status status-low&quot;&gt;' + message + '&lt;/p&gt;'); } this.status_messages.push({ element: element, message: message, priority: priority, timeout: timeout }); this.ui.statuses.append(element); this.ui.statuses[0].scrollTop = 0; }, onRemoveStatusCallback: function (message, priority, timeout) { for (var i = 0; i &lt; this.status_messages.length; i++) { if (this.status_messages[i].message === message &amp;&amp; this.status_messages[i].priority === priority &amp;&amp; this.status_messages[i].timeout === timeout) { this.status_messages[i].element.remove(); this.status_messages.splice(i, 1); return; } } }, setTime: function (time) { if (!Validator.isValidTime(time)) { Logger.warn('Got invalid value for the time! Time: ' + time); this.ui.vehicle_time.text('Invalid Time Received'); this.ui.elapsed_time.text('--'); } else { time = Number(time).toFixed(2); var date = moment(time, 'HHmmss.SS'); var elapsed_time = moment(date.diff(this.starting_time)); this.ui.vehicle_time.text(date.format('HH:mm:ss:SS')); this.ui.elapsed_time.text(elapsed_time.minute() + ' min ' + elapsed_time.second() + ' sec'); } }, setBatteryLevel: function (battery_level) { if (!Validator.isValidBattery(battery_level)) { Logger.warn('Got an invalid value for the battery level! Battery Level: ' + battery_level); this.ui.battery_percent.text('Invalid Battery Level'); } else if (Number(battery_level) !== this.current_battery_level) { var percent = Math.round(Number(battery_level)); this.current_battery_level = percent; this.ui.battery_percent.text(percent + '%'); this.ui.battery_picture.css('width', percent + '%'); if (percent &gt; 50 &amp;&amp; percent &lt;= 100) { this.ui.battery_picture.css('background-color', 'green'); this.ui.battery_message.text(''); } else if (percent &gt;= 20 &amp;&amp; percent &lt;= 50) { this.ui.battery_picture.css('background-color', 'orange'); this.ui.battery_message.text('Low'); this.ui.battery_message.css('color', 'orange'); } else { this.ui.battery_picture.css('background-color', 'red'); this.ui.battery_message.text('Very Low'); this.ui.battery_message.css('color', 'red'); } } }, setGpsLevel: function (gps_level) { if (!Validator.isValidGpsStatus(gps_level)) { Logger.warn('Got an invalid value for the GPS level! GPS Level: ' + gps_level); this.ui.gps_message.css('color', 'orange'); this.ui.gps_message.text('Invalid GPS Level'); } else { var level = Number(gps_level); if (level !== this.current_gps_status) { //check if the gps status is different than last time this.current_gps_status = level; if (gps_level === 0) { Logger.warn('no GPS connection'); this.ui.gps_message.css('color', 'red'); this.ui.gps_message.text('NOT CONNECTED'); } else { this.ui.gps_message.css('color', 'green'); this.ui.gps_message.text('Connected to ' + (gps_level &amp; 0x0f) + ' satelites'); } } } }, resetElapsedTime: function () { this.starting_time = null; }, clearStatuses: function () { //removes all persistent statuses StatusManager.removeStatusesByTimeout(0); } }); }; × Search results Close "},"views_ThrottleView.js.html":{"id":"views_ThrottleView.js.html","title":"Source: views/ThrottleView.js","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Source: views/ThrottleView.js /** * @author Serge Babayan * @module views/ThrottleView * @requires models/Commands * @requires models/TelemetryData * @requires util/Template * @requires util/Logger * @requires util/Validator * @requires electron * @listens models/TelemetryData~TelemetryData:data_received * @copyright Waterloo Aerial Robotics Group 2016 * @licence https://raw.githubusercontent.com/UWARG/WARG-Ground-Station/master/LICENSE * @description View that displays the aircraft's throttle, flap, and attitude rate values */ var remote = require('electron').remote; var Logger = remote.require('./app/util/Logger'); var TelemetryData = remote.require('./app/models/TelemetryData'); var Validator = require('../util/Validator'); var Commands = remote.require('./app/models/Commands'); var Template = require('../util/Template'); module.exports = function (Marionette) { return Marionette.ItemView.extend({ template: Template('ThrottleView'), className: 'throttleView', ui: { throttle: '.throttle-value', yaw: '.yaw-value', yaw_setpoint: '.yaw-setpoint-value', flap: '.flap-value', roll_rate_rad: '.roll-rate-value-rad', pitch_rate_rad: '.pitch-rate-value-rad', yaw_rate_rad: '.yaw-rate-value-rad', roll_rate_deg: '.roll-rate-value-deg', pitch_rate_deg: '.pitch-rate-value-deg', yaw_rate_deg: '.yaw-rate-value-deg', throttle_input: '.throttle-form input', flap_input: '.flap-form input' }, events: { 'submit .flap-form': 'sendSetFlapCommand', 'submit .throttle-form': 'sendSetThrottleCommand' }, initialize: function () { this.on_telemetry_callback = null; }, onRender: function () { this.on_telemetry_callback = this.onTelemetryCallback.bind(this); TelemetryData.addListener('data_received', this.on_telemetry_callback); }, onTelemetryCallback: function (data) { this.setThrottle(data.throttle_setpoint); this.setYaw(data.yaw); //this.setYawSetpoint(data.int_yaw_setpoint); this.setFlap(data.flap_setpoint); this.setYawRate(data.yaw_rate); this.setRollRate(data.roll_rate); this.setPitchRate(data.pitch_rate); }, onBeforeDestroy: function () { TelemetryData.removeListener('data_received', this.on_telemetry_callback); }, setThrottle: function (num) { if (Validator.isValidThrottle(num)) { var num = Number(num); this.ui.throttle.text(Number((num + 1024) * 100 / 2048).toFixed(1));//-1024 represents 0% } else { Logger.warn('Invalid throttle setpoint value received! Throttle:' + num); this.ui.throttle.text('Invalid'); } }, setYaw: function (num) { if (Validator.isValidYaw(num)) { this.ui.yaw.text(Number(num).toFixed(1)); } else { Logger.warn('Invalid yaw value received! Yaw:' + num); this.ui.yaw.text('Invalid'); } }, // setYawSetpoint: function(num){ // if(Validator.isValidYaw(num)){ // this.ui.yaw_setpoint.text(Number(num).toFixed(1)); // }else{ // Logger.warn('Invalid yaw setpoint value received! Yaw Setpoint: '+num); // this.ui.yaw_setpoint.text('Invalid'); // } // }, setPitchRate: function (num) { if (Validator.isValidNumber(num)) { var rad = Number(num); var degrees = Number(num) * 180 / Math.PI; this.ui.pitch_rate_rad.text(rad.toFixed(1)); this.ui.pitch_rate_deg.text(degrees.toFixed(1)); } else { Logger.warn('Invalid pitch rate value received! Pitch Rate: ' + num); this.ui.pitch_rate_rad.text('Invalid'); this.ui.pitch_rate_deg.text('Invalid'); } }, setYawRate: function (num) { if (Validator.isValidNumber(num)) { var rad = Number(num); var degrees = Number(num) * 180 / Math.PI; this.ui.yaw_rate_rad.text(rad.toFixed(1)); this.ui.yaw_rate_deg.text(degrees.toFixed(1)); } else { Logger.warn('Invalid yaw rate value received! Yaw Rate: ' + num); this.ui.yaw_rate_rad.text('Invalid'); this.ui.yaw_rate_deg.text('Invalid'); } }, setRollRate: function (num) { if (Validator.isValidNumber(num)) { var rad = Number(num); var degrees = Number(num) * 180 / Math.PI; this.ui.roll_rate_rad.text(rad.toFixed(1)); this.ui.roll_rate_deg.text(degrees.toFixed(1)); } else { Logger.warn('Invalid roll rate value received! Roll Rate: ' + num); this.ui.roll_rate_rad.text('Invalid'); this.ui.roll_rate_deg.text('Invalid'); } }, setFlap: function (num) { if (Validator.isValidFlap(num)) { var num = Number(num); this.ui.flap.text(Number((num + 1024) * 100 / 2048).toFixed(1));//-1024 represents 0% } else { Logger.warn('Invalid flap setpoint value received! Flap Setpoint: ' + num); this.ui.flap.text('Invalid'); } }, sendSetThrottleCommand: function (e) { e.preventDefault(); Commands.sendThrottle(this.ui.throttle_input.val()); this.ui.throttle_input.val(''); }, sendSetFlapCommand: function (e) { e.preventDefault(); Commands.sendFlap(this.ui.flap_input.val()); this.ui.flap_input.val(''); } }); }; × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Modules Classes Connection PersistentSettings Events Connection:close Emitted when the socket has been closed. Passes true if it closed due to an error Type: bool Source: models/Connection.js, line 151 Connection:connect Emitted when the socket has successfully connected Type: null Source: models/Connection.js, line 118 Connection:data Emitted when the socket has received a packet of data Type: Buffer Source: models/Connection.js, line 166 Connection:socket_error Emitted when an error has occurred on the socket. Does not throw an error if there are no listeners Type: Object Source: models/Connection.js, line 133 Connection:timeout Emitted when the socket has timed out (receiving no data but still connected) Type: null Source: models/Connection.js, line 141 Connection:write Emitted if data was successfully sent through the socket. Passes back the data sent Type: Object Source: models/Connection.js, line 99 TelemetryData:aircraft_channels When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Information about the channel inputs and outputs of the picpilot Source: models/TelemetryData.js, line 44 TelemetryData:aircraft_gains When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Current aircraft gains information Source: models/TelemetryData.js, line 32 TelemetryData:aircraft_orientation When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Information on the orientation of the aircraft Source: models/TelemetryData.js, line 26 TelemetryData:aircraft_position When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Information on the position of the aircraft Source: models/TelemetryData.js, line 20 TelemetryData:aircraft_status When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Current aircraft status information Source: models/TelemetryData.js, line 38 × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Classes Classes Connection PersistentSettings Events Connection:close Emitted when the socket has been closed. Passes true if it closed due to an error Type: bool Source: models/Connection.js, line 151 Connection:connect Emitted when the socket has successfully connected Type: null Source: models/Connection.js, line 118 Connection:data Emitted when the socket has received a packet of data Type: Buffer Source: models/Connection.js, line 166 Connection:socket_error Emitted when an error has occurred on the socket. Does not throw an error if there are no listeners Type: Object Source: models/Connection.js, line 133 Connection:timeout Emitted when the socket has timed out (receiving no data but still connected) Type: null Source: models/Connection.js, line 141 Connection:write Emitted if data was successfully sent through the socket. Passes back the data sent Type: Object Source: models/Connection.js, line 99 TelemetryData:aircraft_channels When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Information about the channel inputs and outputs of the picpilot Source: models/TelemetryData.js, line 44 TelemetryData:aircraft_gains When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Current aircraft gains information Source: models/TelemetryData.js, line 32 TelemetryData:aircraft_orientation When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Information on the orientation of the aircraft Source: models/TelemetryData.js, line 26 TelemetryData:aircraft_position When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Information on the position of the aircraft Source: models/TelemetryData.js, line 20 TelemetryData:aircraft_status When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Current aircraft status information Source: models/TelemetryData.js, line 38 × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status WARG-Ground-Station 4.1.0 WARG Ground StationThe ground station that displays data received from the data-relay-station Installation Clone the repo Download Node.js for your OS Run npm install to install the app dependencies (which includes electron) Download sat_tiles.zip and extract the sat_tiles folder to the assets folder of the project Run npm start to start the app Running the simulationThe Ground Station supports simulations, so the data-relay-station doesn't actually have to be run. Click on the Window&gt;&gt;Simulation Mode menu item to open the simulation window and start up the simulator. Running TestsRun npm test to run the unit tests. The groundstation uses mocha as its BDD testing framework, sinonjs as its method stubbing library, chai as its assertion library, as well as rewire to mock out require calls, and isntanbul for code coverage reports. API DocumentationYou can read the api docs by visiting api.gs.uwarg.com. The documentation is hosted on github pages, and can be generated (assuming you have the correct github permissions) by running the upload-docs.sh script. LicenceCopyright (c) 2016, Waterloo Aerial Robotics Group (WARG) All rights reserved. Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met: Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution. Usage of this code MUST be explicitly referenced to WARG and this code cannot be used in any competition against WARG. Neither the name of the WARG nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission. THIS SOFTWARE IS PROVIDED BY WARG ''AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL WARG BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. × Search results Close "},"module-AircraftStatus.html":{"id":"module-AircraftStatus.html","title":"Module: AircraftStatus","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: AircraftStatus Keeps track of the current state of the autopilot, and informs the StatusManger about any important changes Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: AircraftStatus.js, line 1 See: http://docs.uwarg.com/picpilot/datalink/ Requires module:models/TelemetryData module:StatusManager module:util/Logger module:util/Validator module:util/Bitmask module:models/Commands module:config/picpilot-config Members &lt;inner&gt; autopilot_status :Object Information on the current autopilot status Type: Object Source: AircraftStatus.js, line 33 &lt;inner&gt; following_path :boolean Whether the aircraft is currently following a path Type: boolean Source: AircraftStatus.js, line 28 &lt;private, inner&gt; heartBeatInterval :number For keeping track and clearing the interval function when sending heartbeats to the picpilot Type: number Source: AircraftStatus.js, line 107 &lt;inner&gt; manualMode :boolean Whether the autopilot is on or off Type: boolean Source: AircraftStatus.js, line 46 &lt;inner&gt; startup_errors :Object Startup errors that occurred on the autopilot Type: Object Source: AircraftStatus.js, line 89 &lt;inner&gt; uhf :Object Current UHF connection status Type: Object Source: AircraftStatus.js, line 73 &lt;inner&gt; xbee :Object Current xbee connection status Type: Object Source: AircraftStatus.js, line 53 Methods &lt;inner&gt; startHeartbeat() Starts sending heartbeats at the rate as specified in the picpilot config. Will clear and restart it if called multiple times Source: AircraftStatus.js, line 115 &lt;private, inner&gt; telemetryCallback(data) Parameters: Name Type Description data Object Properties Name Type Description startup_error_codes number | null gps_status number | null wireless_connection number | null autopilot_active number | null path_following number | null Source: AircraftStatus.js, line 128 × Search results Close "},"module-connections_DataRelay.html":{"id":"module-connections_DataRelay.html","title":"Module: connections/DataRelay","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: connections/DataRelay Configures the data relay connection for connecting to it, and parsing its data and sending out events to the TelemetryData module Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: connections/DataRelay.js, line 1 See: http://docs.uwarg.com/picpilot/datalink/ Requires module:config/network-config module:Network module:util/Logger module:util/PacketParser module:StatusManager module:models/TelemetryData Methods &lt;inner&gt; init() Initializes or re-initializes the data relay connection and sets up callbacks for parsing any received data Source: connections/DataRelay.js, line 49 × Search results Close "},"module-core_Menu.html":{"id":"module-core_Menu.html","title":"Module: core/Menu","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: core/Menu Application menu configuration. Custom menu items are added here. The top level object is the menu item name. The second level is the sub-menu name. Add a callback attribute with a function if you want to call a function after a user clicks on the item. Add a 'openWindow' attribute with the name of your window if you want to open a specific window. If both callback and openWindow are provided, the callback will be executed and then the window will be opened. Note: The View and Help menu items are generated in the MenuBuilder Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: core/Menu.js, line 1 Example Example of a menu item that calls a function before opening 'project_root/windows/myNewWindow.html' var Menu = { 'Windows': { //this is the menu label 'Open Your New Window': { //this is the submenu label callback: function () { //optional function to be called before opening window }, openWindow: 'myNewWindow', //name of the window to open (optional) height: 800, //height and width of the window. Default is 500 by 500 width: 600, devTools: true, //whether to open chrome devtools with the window (false by default) type: 'separator' //whether this sub menu item is a separator } } }; Requires module:electron module:util/GainsImporter module:util/PathImporter × Search results Close "},"module-core_MenuBuilder.html":{"id":"module-core_MenuBuilder.html","title":"Module: core/MenuBuilder","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: core/MenuBuilder Builds an electron based menu template from the core/Menu file and returns an electron menu that can be attached to a BrowserWindow Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: core/MenuBuilder.js, line 1 Requires module:core/Menu module:core/WindowManager module:electron Methods &lt;inner&gt; build() Source: core/MenuBuilder.js, line 17 Returns: menu Type electron.Menu × Search results Close "},"module-core_WindowManager.html":{"id":"module-core_WindowManager.html","title":"Module: core/WindowManager","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: core/WindowManager Manages the creation and destruction of windows for the application Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: core/WindowManager.js, line 1 Requires module:electron module:util/Logger module:root-path Members &lt;private, inner&gt; open_windows :ObjectHash Stores all the currently open windows Type: ObjectHash Source: core/WindowManager.js, line 17 Methods &lt;inner&gt; getFocusedWindowName() Returns the unique name for the currently focused window Source: core/WindowManager.js, line 72 Returns: name The name of the window, or null if one wasn't found Type string | null &lt;inner&gt; getWindowNameFromId(id) Retrieves the hash key or window name for a window based on its BrowserWindow id Parameters: Name Type Description id int The id of the window Source: core/WindowManager.js, line 55 Returns: name The name of the window, or null if one wasn't found Type string | null &lt;inner&gt; openWindow(window_file_name, options) Opens a window by either creating it or focusing on an existing one Parameters: Name Type Description window_file_name string The window template file name options Object Parameters specific to electron.BrowserWindow Source: core/WindowManager.js, line 23 × Search results Close "},"module-core_WindowShortcuts.html":{"id":"module-core_WindowShortcuts.html","title":"Module: core/WindowShortcuts","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: core/WindowShortcuts Creates common shortcuts for a window. Requires Mousetrap.js to be declared within the window. Current shortcuts include the ability to close and refresh windows, as well as open dev tools. Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: core/WindowShortcuts.js, line 1 Example Usage example var WindowShortcuts = require('../../app/core/WindowShortcuts'); WindowShortcuts.init(Mousetrap); //we pass in mousetrap in here Requires module:util/Logger module:electron Methods &lt;static&gt; init(Mousetrap) function init Parameters: Name Type Description Mousetrap Object Reference to the window's Mousetrap object Source: core/WindowShortcuts.js, line 23 × Search results Close "},"module-models_Connection.html":{"id":"module-models_Connection.html","title":"Module: models/Connection","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: models/Connection Represents a TCP connection. This is used as a wrapper for the connection to the data relay Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: models/Connection.js, line 1 See: https://nodejs.org/api/net.html Extends EventEmitter Requires module:util/Logger module:net module:util module:events module:config/advanced-config Classes Connection Methods &lt;inner&gt; setTimeout(timeout) Sets the timeout for the socket connection in milliseconds Parameters: Name Type Description timeout int Source: models/Connection.js, line 82 Events Connection:close Emitted when the socket has been closed. Passes true if it closed due to an error Type: bool Source: models/Connection.js, line 151 Connection:connect Emitted when the socket has successfully connected Type: null Source: models/Connection.js, line 118 Connection:data Emitted when the socket has received a packet of data Type: Buffer Source: models/Connection.js, line 166 Connection:socket_error Emitted when an error has occurred on the socket. Does not throw an error if there are no listeners Type: Object Source: models/Connection.js, line 133 Connection:timeout Emitted when the socket has timed out (receiving no data but still connected) Type: null Source: models/Connection.js, line 141 Connection:write Emitted if data was successfully sent through the socket. Passes back the data sent Type: Object Source: models/Connection.js, line 99 × Search results Close "},"module-models_Connection-Connection.html":{"id":"module-models_Connection-Connection.html","title":"Class: Connection","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Class: Connection models/Connection~ Connection new Connection(options) Parameters: Name Type Description options Required options to initialize the TCP connection Properties Name Type Description name The unique name of the connection host The hostname (ie. 192.168.1.101) port The port for the connection (ie. 3000) Source: models/Connection.js, line 31 Throws: If one of the parameters weren't provided Type Error Members closed :boolean Whether the connection has been closed Type: boolean Source: models/Connection.js, line 45 socket :net.Socket A reference to the socket. Type: net.Socket Source: models/Connection.js, line 114 timeout :number Timeout for the socket in milliseconds. Defaults to 5 seconds Type: number Source: models/Connection.js, line 51 Methods connect() Attempts to connect to the TCP socket Source: models/Connection.js, line 61 disconnect() Disconnects from the TCP socket Source: models/Connection.js, line 69 reconnect() Reconnects to the socket (same as doing a disconnect and then a connect) Source: models/Connection.js, line 77 write(data) Attempts to send data through the socket Parameters: Name Type Description data Object The data to send Source: models/Connection.js, line 96 Fires: Connection:write × Search results Close "},"module-models_Coordinates.html":{"id":"module-models_Coordinates.html","title":"Module: models/Coordinates","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: models/Coordinates Source: models/Coordinates.js, line 1 × Search results Close "},"module-models_PacketTypes.html":{"id":"module-models_PacketTypes.html","title":"Module: models/PacketTypes","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: models/PacketTypes Contains the different packet types that the TelemetryData module sends out. Also lists the validation function to use for a certain header received from the picpilot. Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: models/PacketTypes.js, line 1 See: http://docs.uwarg.com/picpilot/datalink/ × Search results Close "},"module-models_TelemetryData.html":{"id":"module-models_TelemetryData.html","title":"Module: models/TelemetryData","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: models/TelemetryData Data model that stores the current and past telemetry states of the aircraft. Inherits off of the node EventEmitter, so it can emit data events to other modules Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: models/TelemetryData.js, line 1 See: http://docs.uwarg.com/picpilot/datalink/ Extends EventEmitter Requires module:util module:events module:config/advanced-config Members &lt;inner&gt; current_state :Hash Current flight state. In the format of a hash, where the keys are the packet names, and the value is an array of header=&gt;value data Type: Hash Source: models/TelemetryData.js, line 60 See: models/PacketTypes Example console.log(TelemetryData.current_state) { aircraft_position: { lat: 45.45455, lon: 324234, time: 234324324, ... }, aircraft_orientation: { ... } } &lt;inner&gt; headers :Array An array of headers in the order that the groundstation will be receiving them, as specified from the data relay Type: Array Source: models/TelemetryData.js, line 51 Example console.log(TelemetryData.headers) ['lat', 'lon', 'time', ...] Methods &lt;inner&gt; emitPackets(packets) Takes in a packet object and emits each one with its own payload. Packet object should be in the same format as the PacketTypes model, only the value being the value of the actual header. Parameters: Name Type Description packets Object A key value pair of the packet name and its data payload Source: models/TelemetryData.js, line 100 Example Usage example var packets = { packet_name: { packet_data1: 'packet_value1', packet_data2: 'packet_value2' } packet_name2: { ... } } //this will emit a 'packet_name' and 'packet_name2' events each with their respective data TelemetryData.emitPackets(packets); &lt;inner&gt; setHeadersFromString(headers_string) Converts a springfield version of headers (separated by commas) into an array and sets it as its headers. Will also perform a trim() on each of the header values. Parameters: Name Type Description headers_string String Source: models/TelemetryData.js, line 80 Example TelemetryData.setHeadersFromString('header1,header2, header3, header4'); console.log(TelemetryData.headers); //Outputs: ['header1', 'header2', 'header3', 'header4'] Events TelemetryData:aircraft_channels When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Information about the channel inputs and outputs of the picpilot Source: models/TelemetryData.js, line 44 TelemetryData:aircraft_gains When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Current aircraft gains information Source: models/TelemetryData.js, line 32 TelemetryData:aircraft_orientation When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Information on the orientation of the aircraft Source: models/TelemetryData.js, line 26 TelemetryData:aircraft_position When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Information on the position of the aircraft Source: models/TelemetryData.js, line 20 TelemetryData:aircraft_status When a new data packet has been received on the data relay connection Properties: Name Type Description data Object Current aircraft status information Source: models/TelemetryData.js, line 38 × Search results Close "},"module-util_Commands.html":{"id":"module-util_Commands.html","title":"Module: util/Commands","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: util/Commands Manages sending the picpilot commands. Writes to the data relay connection to send commands. Validates data before sending it out using the Validator module. Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: models/Commands.js, line 1 See: http://docs.uwarg.com/picpilot/datalink/ Requires module:util/Validator module:SimulationManager module:util/Logger module:Network module:config/picpilot-config Methods &lt;inner&gt; activateWriteMode() Actives write mode for the groundstation, allowing the groundstation to send commands that affect the autopilot Source: models/Commands.js, line 107 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; appendWaypoint(lat, lon, alt, radius, probe_drop) Appends a waypoint to the autopilots flight plan Parameters: Name Type Description lat string | Number Latitude of waypoint lon string | Number Longitude of waypoint alt string | Number Altitude of waypoint radius string | Number Radius, in m, of the waypoint probe_drop boolean Whether the waypoint is a probe drop location Source: models/Commands.js, line 438 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; armPlane() Arms the plane Source: models/Commands.js, line 311 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; checkConnection() Checks whether there is an active data relay connection Source: models/Commands.js, line 22 Returns: Connection status Type boolean &lt;inner&gt; clearWaypoints() Clears all the waypoints for the path manager Source: models/Commands.js, line 378 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; disarmPlane() Disarms the plane Source: models/Commands.js, line 320 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; dropProbe(number) Drop a probe Parameters: Name Type Description number string | Number The probe number of which to drop Source: models/Commands.js, line 347 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; followPath(status) Tell the aircraft to follow the flight plan Parameters: Name Type Description status boolean Whether the plane should follow the flight plan Source: models/Commands.js, line 515 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; insertWaypoint(index, lat, lon, alt, radius) Inserts a waypoint at a specified index to the autopilot's flight plan Parameters: Name Type Description index int The index of the waypoint lat string | Number Latitude of waypoint lon string | Number Longitude of waypoint alt string | Number Altitude of waypoint radius string | Number Radius, in m, of the waypoint Source: models/Commands.js, line 458 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; insertWaypoint(index, lat, lon, alt, radius, probe_drop) Inserts a waypoint at a specified index to the autopilot's flight plan Parameters: Name Type Description index int The index of the waypoint lat string | Number Latitude of waypoint lon string | Number Longitude of waypoint alt string | Number Altitude of waypoint radius string | Number Radius, in m, of the waypoint probe_drop boolean Whether the waypoint is a probe drop location Source: models/Commands.js, line 478 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; killPlane() Kills the plane Source: models/Commands.js, line 329 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; removeWaypoint(index) Removes a waypoint from the autopilot's flight plan Parameters: Name Type Description index String | Number The id of the waypoint Source: models/Commands.js, line 499 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; resetProbe(number) Reset a probe Parameters: Name Type Description number string | Number The probe number of which to drop Source: models/Commands.js, line 362 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; sendAltitude(altitude) Sends a altitude value to the autopilot Parameters: Name Type Description altitude string | Number The altitude in m Source: models/Commands.js, line 164 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; sendAutoLevel(level) Sends an autonomous level to the picpilot. Check the datalink docs for more info Parameters: Name Type Description level string | Number The autonomous level as a decimal value Source: models/Commands.js, line 295 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; sendCommand(command, value) Sends a regular command to the data relay Parameters: Name Type Description command string The command name value string | Number The value of the command. This can be lots of different parameters Source: models/Commands.js, line 59 Returns: Whether the command was successfully sent. Will return false if there is no connection and the simulator isn't active Type boolean Example Commands.sendCommand('awesomeCommand', 'value1', 'value2', 'value3'); //will send this through the data relay //awesomeCommand:value1, value2, value3 &lt;inner&gt; sendFlap(flap) Sends a flap value to the autopilot Parameters: Name Type Description flap string | Number The flap percentage (0 is no flaps, 100% is full flaps) Source: models/Commands.js, line 196 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; sendHeading(heading) Sends a heading value to the autopilot Parameters: Name Type Description heading string | Number The heading in degrees (0-360) Source: models/Commands.js, line 148 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; sendHeartbeat() Send a heartbeat to the plane Source: models/Commands.js, line 530 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; sendKDGain(type, gain) Sends a kd gain value to the autopilot Parameters: Name Type Description type string One of: flap, altitude, throttle, heading, roll, pitch, yaw gain string | Number The gain value Source: models/Commands.js, line 246 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; sendKIGain(type, gain) Sends a ki gain value to the autopilot Parameters: Name Type Description type string One of: flap, altitude, throttle, heading, roll, pitch, yaw gain string | Number The gain value Source: models/Commands.js, line 229 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; sendKPGain(type, gain) Sends a kp gain value to the autopilot Parameters: Name Type Description type string One of: flap, altitude, throttle, heading, roll, pitch, yaw gain string | Number The gain value Source: models/Commands.js, line 212 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; sendOrbitGain(gain) Sends a orbital gain value to the autopilot Parameters: Name Type Description gain string | Number The gain value Source: models/Commands.js, line 279 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; sendPathGain(gain) Sends a path gain value to the autopilot Parameters: Name Type Description gain string | Number The gain value Source: models/Commands.js, line 263 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; sendPitch(pitch) Sends a pitch value to the autopilot Parameters: Name Type Description pitch string | Number The pitch in degrees Source: models/Commands.js, line 132 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; sendProtectedCommand(command) Sends a protected command (a command requiring a password appended after the command) Parameters: Name Type Description command string Source: models/Commands.js, line 41 Returns: Whether the command was successfully sent. Will return false if there is no connection and the simulator isn't active Type boolean &lt;inner&gt; sendRawCommand(command) Sends a raw command (no formatting) to the data relay Parameters: Name Type Description command string The command string Source: models/Commands.js, line 89 Returns: Whether the command was successfully sent. Will return false if there is no connection and the simulator isn't active Type boolean &lt;inner&gt; sendRoll(roll) Sends a roll value to the autopilot Parameters: Name Type Description roll string | Number The roll in degrees Source: models/Commands.js, line 116 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; sendThrottle(throttle) Sends a throttle value to the autopilot Parameters: Name Type Description throttle string | Number The percentage value of the throttle Source: models/Commands.js, line 180 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; setTargetWaypoint(number) Sets the target waypoint for the autopilot's path manager Parameters: Name Type Description number String | Number The id of the waypoint Source: models/Commands.js, line 387 Returns: Whether the command sent successfully Type boolean &lt;inner&gt; unkillPlane() Unkills the plane Source: models/Commands.js, line 338 Returns: Whether the command sent successfully Type boolean × Search results Close "},"module-util_PacketParser.html":{"id":"module-util_PacketParser.html","title":"Module: util/PacketParser","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: util/PacketParser Parses data received from the data relay into a usable format for the ground station's event emitters Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: util/PacketParser.js, line 1 See: http://docs.uwarg.com/picpilot/datalink/ Requires module:util/Logger module:util/Validator module:models/PacketTypes module:underscore Methods &lt;inner&gt; checkForMissingHeaders(headers_array) Compares the received headers to that of the headers in the PacketTypes module. Warns the user if there are extra or missing headers Parameters: Name Type Description headers_array Array Source: util/PacketParser.js, line 20 &lt;inner&gt; parseData(data, headers_array) Converts a string of data into a packet type object, to be emitted by the TelemetryData module. Uses the PacketTypes module in order to sort the headers into the appropriate packet types as well as to perform the correct validations on each one Parameters: Name Type Description data string A stringified version of the data (split by commas) headers_array Array An array of the headers in the same order as the headers Source: util/PacketParser.js, line 56 Throws: Error if the specified validation function doesn't exist Returns: A hash indexed by the packet type name, with the values being another hash in a format of header_name =&gt; data_value Type Object Example Given '34, 89.654, ...' as data and ['heading', 'lon', ...] as headers, will return: { aircraft_position: { heading: 34, lon: 89.654 ... }, aircraft_orientation: {...}, aircraft_gains: {...} ... } × Search results Close "},"module-util_PersistentSettings.html":{"id":"module-util_PersistentSettings.html","title":"Module: util/PersistentSettings","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: util/PersistentSettings This module provides persistent settings support to the app. It uses node-persist which provides a local storage api for saving settings. It takes in a config object found in the project_root/config folder of the app and returns a new wrapper object for setting and accessing persistent settings. Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: util/PersistentSettings.js, line 1 Requires module:path module:node-persist Classes PersistentSettings × Search results Close "},"module-util_PersistentSettings-PersistentSettings.html":{"id":"module-util_PersistentSettings-PersistentSettings.html","title":"Class: PersistentSettings","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Class: PersistentSettings util/PersistentSettings~ PersistentSettings new PersistentSettings(file_name, settings) Parameters: Name Type Description file_name The file name of the config file (ie. 'advanced-settings'). This is used as the prefix to its keys settings The contents of the config object. These are used to generate the key-value pairs that are saved in settings Source: util/PersistentSettings.js, line 21 Members default_settings Properties: Name Type Description default_settings Hash The original default settings that are stored from the config objects. Source: util/PersistentSettings.js, line 33 file_name Properties: Name Type Description file_name string The stored file name. Usually not used externally Source: util/PersistentSettings.js, line 30 Methods get(key) Parameters: Name Type Description key string The key to retrieve the value of Source: util/PersistentSettings.js, line 48 Returns: The value that is stored in the key. The object type stays intact (so if its defined as an array in the config object, it will return an array) Type Object set(key, value) Parameters: Name Type Description key string The key to set value Object The value to set Source: util/PersistentSettings.js, line 57 × Search results Close "},"module-util_Template.html":{"id":"module-util_Template.html","title":"Module: util/Template","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: util/Template This module uses underscore's template generation with an input from the html files in the project_root/views directory. It outputs a templated file (stringified version of the html) that you can use as a template to your views. Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: util/Template.js, line 1 Requires module:fs module:underscore Methods &lt;inner&gt; Template(template_name) Parameters: Name Type Description template_name string The name of the html file you'd like to use as the template for your view. If its in the root of the views folder, just put in the file name. If its under a directory, include the directory name (eg. &quot;subdirectory/MyHTMLFILE.html&quot;) Source: util/Template.js, line 30 Returns: A stringified version of the html that the view can use as its template. Type Object Example Usage of the Template class in a view var Template=require('./util/Template'); return Template('my_html_file_name_in_views.html'); //Use the output from this ^^ as your views template. × Search results Close "},"module-util_Validator.html":{"id":"module-util_Validator.html","title":"Module: util/Validator","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: util/Validator Useful and commonly used validation functions used throughout the app Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: util/Validator.js, line 1 Requires module:underscore Methods &lt;inner&gt; isBooleanInt(number) Checks if a value is a bollean integer (1 or 0) Parameters: Name Type Description number string | Number The value to check Source: util/Validator.js, line 75 Returns: Type boolean &lt;inner&gt; isFloat(number) Checks if a value is a float only Parameters: Name Type Description number string | Number The value to check Source: util/Validator.js, line 23 Returns: Type boolean Example Validator.isFloat('23.23') //true Validator.isFloat(34.44) //true Validator.isFloat(4) //false Validator.isFloat('4') //false &lt;inner&gt; isInteger(number) Checks if a value is an integer only Parameters: Name Type Description number string | Number The value to check Source: util/Validator.js, line 44 Returns: Type boolean Example Validator.isInteger('23.23') //false Validator.isInteger(34.44) //false Validator.isInteger(4) //true Validator.isInteger('4') //true &lt;inner&gt; isNonEmptyString(value) Checks if a value is a string Parameters: Name Type Description value string The value to check Source: util/Validator.js, line 95 Returns: Type boolean &lt;inner&gt; isObject(object) Checks if a value is an object Parameters: Name Type Description object Object The value to check Source: util/Validator.js, line 105 Returns: Type boolean &lt;inner&gt; isPositiveNumber(number) Checks if a value is a positive number Parameters: Name Type Description number string | Number The value to check Source: util/Validator.js, line 65 Returns: Type boolean &lt;inner&gt; isString(value) Checks if a value is a string Parameters: Name Type Description value mixed The value to check Source: util/Validator.js, line 85 Returns: Type boolean &lt;inner&gt; isValidAltitude(altitude) Checks if a value is valid altitude (number above -5m) Parameters: Name Type Description altitude string | Number The value to check Source: util/Validator.js, line 193 Returns: Type boolean &lt;inner&gt; isValidBattery(battery) Checks if a value is valid battery level Parameters: Name Type Description battery string | Number The value to check Source: util/Validator.js, line 267 Returns: Type boolean &lt;inner&gt; isValidFlap(flap) Checks if a value is valid flap (between -1024 and 1024) Parameters: Name Type Description flap string | Number The value to check Source: util/Validator.js, line 227 Returns: Type boolean &lt;inner&gt; isValidGpsStatus(gps) Checks if a value is valid gps status Parameters: Name Type Description gps string | Number The value to check Source: util/Validator.js, line 277 Returns: Type boolean &lt;inner&gt; isValidHeading(heading) Checks if a value is valid roll (number between 0 and 360) Parameters: Name Type Description heading string | Number The value to check Source: util/Validator.js, line 169 Returns: Type boolean &lt;inner&gt; isValidLatitude(lat) Checks if a value is valid latitude Parameters: Name Type Description lat string | Number The value to check Source: util/Validator.js, line 237 Returns: Type boolean &lt;inner&gt; isValidLongitude(lon) Checks if a value is valid longitude Parameters: Name Type Description lon string | Number The value to check Source: util/Validator.js, line 247 Returns: Type boolean &lt;inner&gt; isValidNumber(number) Checks if a value is numeric (Note: '123.32' and 123.32 are both numeric) Parameters: Name Type Description number string | Number The value to check Source: util/Validator.js, line 13 Returns: Type boolean &lt;inner&gt; isValidPercentage(percentage) Checks if a value is valid percentage between 0 and 100 Parameters: Name Type Description percentage string | Number The value to check Source: util/Validator.js, line 115 Returns: Type boolean &lt;inner&gt; isValidPitch(pitch) Checks if a value is valid pitch (number between -180 and 180) Parameters: Name Type Description pitch string | Number The value to check Source: util/Validator.js, line 131 Returns: Type boolean &lt;inner&gt; isValidPWM(value) Checks if a value is valid 10-bit pwm value (between -1024 and 1024) Parameters: Name Type Description value string | Number The value to check Source: util/Validator.js, line 203 Returns: Type boolean &lt;inner&gt; isValidRoll(roll) Checks if a value is valid roll (number between -180 and 180) Parameters: Name Type Description roll string | Number The value to check Source: util/Validator.js, line 145 Returns: Type boolean &lt;inner&gt; isValidSpeed(speed) Checks if a value is valid, positive speed Parameters: Name Type Description speed string | Number The value to check Source: util/Validator.js, line 183 Returns: Type boolean &lt;inner&gt; isValidThrottle(throttle) Checks if a value is valid throttle (between -1024 and 1024) Parameters: Name Type Description throttle string | Number The value to check Source: util/Validator.js, line 217 Returns: Type boolean &lt;inner&gt; isValidTime(timestring) Checks if a value is valid UTC time Parameters: Name Type Description timestring string | Number The value to check Source: util/Validator.js, line 257 Returns: Type boolean &lt;inner&gt; isValidYaw(yaw) Checks if a value is valid roll Parameters: Name Type Description yaw string | Number The value to check Source: util/Validator.js, line 159 Returns: Type boolean × Search results Close "},"module-views_3dView.html":{"id":"module-views_3dView.html","title":"Module: views/3dView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/3dView Responsible for displaying a 3D view of the aircraft's orientation using the data from the TelemetryData module Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/3dView.js, line 1 Requires module:util/Template module:models/PlaneScene module:util/Validator module:models/TelemetryData module:electron × Search results Close "},"module-views_AltitudeView.html":{"id":"module-views_AltitudeView.html","title":"Module: views/AltitudeView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/AltitudeView Responsible for displaying a the aircrafts altitude, air and ground speed via dials Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/AltitudeView.js, line 1 Requires module:models/Commands module:util/Validator module:util/Logger module:models/TelemetryData module:util/Template module:electron × Search results Close "},"module-views_AppSettingsView.html":{"id":"module-views_AppSettingsView.html","title":"Module: views/AppSettingsView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/AppSettingsView Responsible general app settings Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/AppSettingsView.js, line 1 Extends views/ParentSettingsView Requires module:util/Template module:views/ParentSettingsView module:config/advanced-config module:config/application-config module:config/map-config module:config/picpilot-config module:electron × Search results Close "},"module-views_AttitudeView.html":{"id":"module-views_AttitudeView.html","title":"Module: views/AttitudeView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/AttitudeView Responsible for displaying a the aircraft's attitude via dials (heading, roll, pitch) Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/AttitudeView.js, line 1 Requires module:models/Commands module:util/Validator module:util/Logger module:models/TelemetryData module:util/Template module:electron × Search results Close "},"module-views_AutoAdjustView.html":{"id":"module-views_AutoAdjustView.html","title":"Module: views/AutoAdjustView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/AutoAdjustView Aircraft autonomous level configuration view Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/AutoAdjustView.js, line 1 See: http://docs.uwarg.com/picpilot/datalink/ Requires module:models/Commands module:util/Bitmask module:util/Logger module:models/TelemetryData module:util/Template module:electron × Search results Close "},"module-views_CockpitLayoutView.html":{"id":"module-views_CockpitLayoutView.html","title":"Module: views/CockpitLayoutView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/CockpitLayoutView A layout view that includes the AttitudeView, AltitudeView, and ThrottleView Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/CockpitLayoutView.js, line 1 Requires module:util/Template × Search results Close "},"module-views_ConsoleView.html":{"id":"module-views_ConsoleView.html","title":"Module: views/ConsoleView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/ConsoleView Listens to the logger module and displays the messages in a console like view Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/ConsoleView.js, line 1 Requires module:models/Commands module:util/Logger module:util/Template module:electron module:config/advanced-config × Search results Close "},"module-views_DataEntryView.html":{"id":"module-views_DataEntryView.html","title":"Module: views/DataEntryView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/DataEntryView Data entry view which allows a user to export the contents of the current telemetry packet out into a file, with an optional comment Author: Trevor Mccourt Copyright: Waterloo Aerial Robotics Group 2016 Source: views/DataEntryView.js, line 1 Requires module:util/Logger module:models/TelemetryData module:util/Template module:fs module:mkdirp module:path module:electron × Search results Close "},"module-views_DataView.html":{"id":"module-views_DataView.html","title":"Module: views/DataView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/DataView Displays the current data packet in the TelemetryData module in a nice form Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/DataView.js, line 1 Requires module:models/TelemetryData module:util/Template module:electron × Search results Close "},"module-views_EmergencyButtonsView.html":{"id":"module-views_EmergencyButtonsView.html","title":"Module: views/EmergencyButtonsView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/EmergencyButtonsView Emergency button view for triggering commands to kill the plane, etc.. Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/EmergencyButtonsView.js, line 1 Requires module:models/Commands module:util/Template module:electron × Search results Close "},"module-views_GainsAdjustView.html":{"id":"module-views_GainsAdjustView.html","title":"Module: views/GainsAdjustView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/GainsAdjustView View for adjusting the aircraft's gain values Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/GainsAdjustView.js, line 1 Requires module:util/Logger module:models/TelemetryData module:models/Commands module:util/Template module:util/Validator module:config/gains-config module:electron × Search results Close "},"module-views_MainLayoutView.html":{"id":"module-views_MainLayoutView.html","title":"Module: views/MainLayoutView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/MainLayoutView A layout view that includes the CockpitLayoutView, ConsoleView, StatusView, MapView and EmergencyButtonsView Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/MainLayoutView.js, line 1 Requires module:util/Template × Search results Close "},"module-views_MapView.html":{"id":"module-views_MapView.html","title":"Module: views/MapView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/MapView View for the groundstation map Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/MapView.js, line 1 Requires module:models/Commands module:util/Validator module:util/Logger module:models/TelemetryData module:models/PathManager module:models/AircraftStatus module:Map module:util/Template module:electron × Search results Close "},"module-views_NetworkSettingsView.html":{"id":"module-views_NetworkSettingsView.html","title":"Module: views/NetworkSettingsView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/NetworkSettingsView Responsible for displaying configurable settings for the data relay connection Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/NetworkSettingsView.js, line 1 Extends views/ParentSettingsView Requires module:util/Template module:views/ParentSettingsView module:config/network-config module:connections/DataRelay module:electron × Search results Close "},"module-views_ParentSettingsView.html":{"id":"module-views_ParentSettingsView.html","title":"Module: views/ParentSettingsView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/ParentSettingsView Master settings view from which the AppSettingsView and NetworkSettingsView inherit off of Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/ParentSettingsView.js, line 1 Requires module:util/Validator module:underscore module:electron × Search results Close "},"module-views_ProbeDropView.html":{"id":"module-views_ProbeDropView.html","title":"Module: views/ProbeDropView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/ProbeDropView View that allows a user to drop and reset the probes on the aircraft Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/ProbeDropView.js, line 1 Requires module:models/Commands module:util/Bitmask module:util/Logger module:models/TelemetryData module:util/Validator module:util/Template module:electron Module: views/ProbeDropView Simulation view that allows the user to select and run a simulation file at a specified speed Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/SimulationModeView.js, line 1 Requires module:SimulationManager module:util/Logger module:models/TelemetryData module:util/Template module:fast-csv module:electron × Search results Close "},"module-views_StatusView.html":{"id":"module-views_StatusView.html","title":"Module: views/StatusView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/StatusView View for the status bar that listens in on events from StatusManager and TelemetryData Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/StatusView.js, line 1 Requires module:StatusManager module:models/TelemetryData module:util/Template module:util/Logger module:util/Validator module:electron module:moment × Search results Close "},"module-views_ThrottleView.html":{"id":"module-views_ThrottleView.html","title":"Module: views/ThrottleView","body":" WARG Groundstation Modules AircraftStatusconnections/DataRelaycore/Menucore/MenuBuildercore/WindowManagercore/WindowShortcutsmodels/Connectionmodels/Coordinatesmodels/PacketTypesmodels/TelemetryDatautil/Commandsutil/PacketParserutil/PersistentSettingsutil/Templateutil/Validatorviews/3dViewviews/AltitudeViewviews/AppSettingsViewviews/AttitudeViewviews/AutoAdjustViewviews/CockpitLayoutViewviews/ConsoleViewviews/DataEntryViewviews/DataViewviews/EmergencyButtonsViewviews/GainsAdjustViewviews/MainLayoutViewviews/MapViewviews/NetworkSettingsViewviews/ParentSettingsViewviews/ProbeDropViewviews/StatusViewviews/ThrottleView Classes models/Connection~Connectionutil/PersistentSettings~PersistentSettings Events models/Connection~Connection:closemodels/Connection~Connection:connectmodels/Connection~Connection:datamodels/Connection~Connection:socket_errormodels/Connection~Connection:timeoutmodels/Connection~Connection:writemodels/TelemetryData~TelemetryData:aircraft_channelsmodels/TelemetryData~TelemetryData:aircraft_gainsmodels/TelemetryData~TelemetryData:aircraft_orientationmodels/TelemetryData~TelemetryData:aircraft_positionmodels/TelemetryData~TelemetryData:aircraft_status Module: views/ThrottleView View that displays the aircraft's throttle, flap, and attitude rate values Author: Serge Babayan Copyright: Waterloo Aerial Robotics Group 2016 Source: views/ThrottleView.js, line 1 Requires module:models/Commands module:models/TelemetryData module:util/Template module:util/Logger module:util/Validator module:electron × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
